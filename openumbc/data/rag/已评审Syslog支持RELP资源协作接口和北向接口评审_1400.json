{
    "topic_id": 1400,
    "question": "【已评审】Syslog支持RELP资源协作接口和北向接口评审 - content: ISSUE链接\n背景\nSyslog RELP（Reliable Event Logging Protocol）是一种可靠的日志传输协议，基于TCP协议，保证数据可靠性传输。\n决策点\n1、web rest接口/UI/Rest/GenericInfo新增Syslog属性\n详细描述：\nuri：/UI/Rest/GenericInfo\n变化类型：新增属性\n操作类型： GET\n\n属性名称\n取值类型\n取值范围\n默认值\n说明\n\nSyslog\n对象\n-\n-\n用于webui对syslog功能进行裁剪判断，示例：“Syslog”: {“ProtocolSupported”  { “TLS”: true, “TCP”: true, “UDP”: true,“RELP”: false}}，包含的属性如下\n\nProtocolSupported\n对象\n-\n-\nwebui显示支持的协议\n\nTLS\n布尔值\ntrue/false\ntrue\nwebui是否显示TLS协议\n\nTCP\n布尔值\ntrue/false\ntrue\nwebui是否显示TCP协议\n\nUDP\n布尔值\ntrue/false\ntrue\nwebui是否显示UDP协议\n\nRELP\n布尔值\ntrue/false\nfalse\nwebui是否显示RELP协议，默认不显示\n\n2、资源协作接口新增RELPSupported、RELPEnabled属性\npath：/bmc/kepler/Managers/1/Syslog\ninterface：bmc.kepler.Managers.Syslog\n\n属性名称\n变化类型\n签名\n读写&权限\n持久化\n变化通知\n接口说明\n接口约束\n\nRELPSupported\n新增属性\nb\n读写 read: ReadOnlywrite: SecurityMgmt\n不持久化\nfalse\n是否支持RELP协议\n\nRELPEnabled\n新增属性\nb\n读写 read: ReadOnlywrite: SecurityMgmt\n掉电持久化（PoweroffPer）\nfalse\n是否使能RELP协议\n\n说明：\n1、RELPSupported属性由客户组件启动阶段对该属性进行设置，从而供webui进行功能裁剪判断；\n2、RELPEnabled属性用于对接北向接口获取syslog传输协议；\n3、北向接口新增新增RELP取值项\n1）web rest接口TransmissionProtocol新增RELP取值项\nuri：/UI/Rest/Maintenance/SyslogNotification\n变化类型：新增属性取值\n操作类型： GET/PATCH\n\n属性名称\n取值类型\n取值范围\n默认值\n说明\n\nTransmissionProtocol\nstring\nsyslog传输协议： 1）TLS协议 2）TCP协议 3）UDP协议 4）RELP协议（新增）\nTLS\n1、该属性映射后端资源协助接口Protocol和RELPEnabled属性 2、处理时需要结合资源协作接口RELPEnabled属性综合判断： a）查询场景：如果RELPEnabled为true，则返回RELP，否则从资源协作接口Protocol获取对应取值  b）设置场景：如果用户下发RELP，则将资源协作接口RELPEnabled设置为true，如果下发其他值，则对资源协作接口Protocol进行设置（同时修改RELPEnabled为false，以便查询时从Protocol获取）\n\n2）redfish接口TransmissionProtocol新增RELP取值项\nuri：/redfish/v1/Managers/1/SyslogService\n变化类型：新增属性取值\n操作类型： GET/PATCH\n\n属性名称\n取值类型\n取值范围\n默认值\n说明\n\nTransmissionProtocol\nstring\n1）TLS协议 2）TCP协议 3）UDP协议 4）RELP协议（新增）\nTLS\n1、该属性映射后端资源协助接口Protocol和RELPEnabled属性 2、处理时需要结合资源协作接口RELPEnabled属性综合判断： a）查询场景：如果RELPEnabled为true，则返回RELP，否则从资源协作接口Protocol获取对应取值  b）设置场景：如果用户下发RELP，则将资源协作接口RELPEnabled设置为true，如果下发其他值，则对资源协作接口Protocol进行设置（同时修改RELPEnabled为false，以便查询时从Protocol获取）\n\n评审结论：\n1、同意webrest接口/UI/Rest/GenericInfo新增Syslog/ProtocolSupported对象，该对象下增加属性TLS、UDP、TDP、RELP，类型为boolean，true表示支持该协议，false表示不支持该协议；\n2、同意资源协作接口bmc.kepler.Managers.Syslog新增属性\n（1）RELPSupported：是否支持RELP协议，签名为b，读权限ReadOnly，写权限SecurityMgmt，不发送变更通知事件\n（2）RELPEnabled：是否启用RELP协议，签名为b，读权限ReadOnly，写权限SecurityMgmt，不发送变更通知事件\n3、同意webrest接口/UI/Rest/Maintenance/SyslogNotificationt的TransmissionProtocol属性新增取值项“RELP”；\n4、同意/redfish/v1/Managers/1/SyslogService接口TransmissionProtocol属性新增取值项“RELP”；\n遗留事项：\n1、北向下发其他协议类型（例如TCP、UDP等）需要修改RELPEnabled为false； – 已闭环\n2、Relp改为大写方式RELP； – 已闭环\nlinks: #p-3250-issue-1, #p-3250-h-2, #p-3250-h-3, #p-3250-h-1web-restuirestgenericinfosyslog-4, #p-3250-h-2relpsupportedrelpenabled-5, #p-3250-h-3relp-6, #p-3250-h-1web-resttransmissionprotocolrelp-7, #p-3250-h-2redfishtransmissionprotocolrelp-8, #p-3250-h-9, #p-3250-h-10",
    "topic_user_name": "lisiguang",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "huanghan",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/1400/2",
            "text": ""
        }
    ]
}