{
    "topic_id": 2134,
    "question": "仿真环境启动后无法访问 - content: web登录形式：https://ip:10443  //10443端口有监听，但是无法访问。\n另外ssh登录方式：ssh Administrator@ip -p 10022的密码是什么？\npython3 build/works/packet/qemu_shells/vemake_1711.py\n启动后，仿真串口环境一直在打印下面信息。\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\n[  992.694797] x_tables: disagrees about version of symbol module_layout\n[  992.697925] x_tables: disagrees about version of symbol module_layout\n[  993.528566] x_tables: disagrees about version of symbol module_layout\n[  993.531776] x_tables: disagrees about version of symbol module_layout\n[  994.670035] x_tables: disagrees about version of symbol module_layout\n[  994.688053] x_tables: disagrees about version of symbol module_layout\n[  995.703029] x_tables: disagrees about version of symbol module_layout\n[  995.711721] x_tables: disagrees about version of symbol module_layout\n[ 1002.998702] x_tables: disagrees about version of symbol module_layout\n[ 1003.011556] x_tables: disagrees about version of symbol module_layout\n[ 1003.965861] x_tables: disagrees about version of symbol module_layout\n[ 1003.976102] x_tables: disagrees about version of symbol module_layout\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nlinks: https://ip:10443",
    "topic_user_name": "Codebmcdev",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "Zhengxy",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/2",
            "text": "content: ssh Administrator用户默认密码为Admin@90000\n请使用curl --location ‘https://ip:10443/UI/Rest/Login’ -k查看接口返回确认web无法访问的报错信息\n建议提供manifest/build/works/packet/qemu_shells/config.json文件以供我们进行详细分析\n并在开发环境上查看SDK中RTOS的版本ls /opt/RTOS并提供给我们\nlinks: https://ip:10443/UI/Rest/Login"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/3",
            "text": "content: zhengxy:\n\nls /opt/RTOS\n\nmanifest/build/works/packet/qemu_shells/config.json\n{\n“mapports”: {\n“ssh”: 10022,\n“https”: 10443,\n“ipmi”: 10623,\n“snmp”: 10161,\n“telnet”: 10023,\n“monitor”: 14444\n},\n“start_dependencies” : {\n“qemu_setup_dir” : “temp/qemu_temp/qemu_start_temp” ,\n“inner_path” : “output/packet/inner”,\n“cpio_path” : “output/packet/inner/openUBMC_25.06.00.01_qemu.cpio.gz” ,\n“zImage_path” : “output/packet/inner/zImage_openUBMC” ,\n“dtb” : “hi1711_9p8c.dtb”,\n“qemu”: “qemu-system-aarch64-release”,\n“remote_qemu”: false,\n“remote_cpio”: false,\n“download_qemu” : “https://repo.openubmc.cn/25.03/tools/openUBMC-qemu.zip”,\n“download_cpio” : “https://repo.openubmc.cn/25.03/firmware/openUBMC_25.06.00.01_qemu.cpio.gz”\n},\n“container_cfg”:{\n“container”: “hi1711”,\n“wsl_enabled”: true,\n“docker_enabled”: false,\n“docker_num” : 2,\n“docker_operator” : “create”,\n“docker_image”: “swr.cn-north-4.myhuaweicloud.com/openubmc/qemu:latest”\n},\n“qemu_cfg”:{\n“core_num” : 4 ,\n“memory” : 4\n}\n}\nls /opt/RTOS\n208.9.0  dependency.md5sum\ncurl --location ‘https://ip:10443/UI/Rest/Login’ -k\n\nTrying 192.168.2.2:10443…\nConnected to 192.168.2.2 (192.168.2.2) port 10443\nALPN: curl offers h2,http/1.1\nTLSv1.3 (OUT), TLS handshake, Client hello (1):\nRecv failure: Connection reset by peer\nOpenSSL SSL_connect: Connection reset by peer in connection to 192.168.2.2:10443\nClosing connection\ncurl: (35) Recv failure: Connection reset by peer\n被服务器断开了， TLS 监听服务有问题？\nlinks: https://repo.openubmc.cn/25.03/tools/openUBMC-qemu.zip, https://repo.openubmc.cn/25.03/firmware/openUBMC_25.06.00.01_qemu.cpio.gz, http://swr.cn-north-4.myhuaweicloud.com/openubmc/qemu:latest, https://ip:10443/UI/Rest/Login"
        },
        {
            "user_name": "Zhengxy",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/4",
            "text": "看了下config的json文件，当前的manifest似乎不是最新的？串口打印的内容应该是在表示驱动与RTOS系统镜像版本不匹配，请尝试拉取最新的manifest，删除manifest 中temp目录和output目录后重试"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/5",
            "text": "拉取最新的会编译BMC失败，bingo build -sc qemu。目前是用的25.06，这样编译才不会报错。\n我们先试试拉取最新的试试。"
        },
        {
            "user_name": "Zhengxy",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/6",
            "text": "具体是什么编译报错"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/7",
            "text": "目前manifest要切到25.06，bmc_sdk.zip也是下载的25.06，才可以编译。\n任务 work.task_build_qemu_rootfs 完成\nWARN: works.packet.work_run_qemu_bmc.TaskClass 已配置 ignore_not_exist 且为真, 跳过执行\n任务 works.packet.work_run_qemu_bmc 完成\n任务 work.task_build_rootfs_img 完成\n任务 personal 执行成功\n如果manifest取main的最新的代码，bmc_sdk.zip也是下载的25.06，编译报错。\n不能从 yaml 文件中获取到键值 tosupporte/qemu/fixed_version, 没有相关配置\nERROR: [Errno 2] No such file or directory: ‘/home/bmc/workspace/manifest/temp/build_openUBMC_debug_dev/conan_install/openubmc/etc/version.json’\nERROR: 任务 personal 执行失败\nERROR: 请查看日志信息\ntimed out\ntimed out\ntimed out"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/8",
            "text": "是需要重新下载最新的manifest然后重新python3 init.py 初始后再bingo build -sc qemu编译构建吗？"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/9",
            "text": "zhengxy:\n\n拉取最新的manifest\n\n拉取最新的不行，只能用25.06，你们有干净的环境吗？拉取下最新的然后python init.py看看报错不？用25.06编译没有问题，但是要仿真又连不上"
        },
        {
            "user_name": "Zhengxy",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/10",
            "text": "不需要重新python3 init.py，拉去最新manifest 使用python3 build/works/packet/qemu_shells/vemake_1711.py使用远程归档的镜像包启动试一下，能否正常启动并链接web"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/11",
            "text": "也不行，也无法连接上"
        },
        {
            "user_name": "Codebmcdev",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/12",
            "text": "git pull\nAlready up to date.\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nqemu-system-aarch64-release: Slirp: Failed to send packet, ret: -1\nLogin timed out after 60 seconds.\n仿真终端也无法登录了。报Login timed out after 60 seconds."
        },
        {
            "user_name": "Zhengxy",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/2134/13",
            "text": "我这边尝试拉取最新的并启动没有复现问题，能够留个联系方式一起看下"
        }
    ]
}