{
    "topic_id": 627,
    "question": "【已评审】升级信号和接口支持扩展参数 - content: 关联issue\n固件升级接口和信号支持扩展参数\n评审背景\n\n当前计算产业的管理部件越来越多，需要BMC升级的固件个数也随之水涨船高，运维成本增大。因此BMC规划了需求，需要提升BMC支持的固件的升级效率（在支持不同硬件总线的固件的升级策略上进行并行升级）。\n在并行升级的场景下，BMC的固件管理需要在多个升级信号并行场景下区分每个升级的请求和响应是对应的哪个固件，因此就需要在升级的请求和响应中带上固件的身份识别标记ComponentId和ComponentIDEx，因此需要将之前的升级的请求和响应进行扩展。\n\n评审点\nUpdateService 资源协作接口的请求信号和响应接口新增一个扩展参数。\npath: /bmc/kepler/UpdateService\ninterface : bmc.kepler.UpdateService\n扩展的参数信息如下：\n\n方法名称\n原签名\n扩展后签名\n新增参数名称\n新增签名\n新增参数说明\n\nPrepareReply\nissi\nissia{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\nProcessReply\nisi\nisia{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\nFinishReply\nisi\nisia{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\nUpdateUpgradeStatus\nisiis\nisiisa{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\nUpgradeProcessSignal\niss\nissa{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\nUpgradeFinishSignal\nis\nisa{ss}\nAdditionalOptions\na{ss}\n升级准备的额外参数，可选参数，具体的取值有：ComponentId：固件标识ComponentIdEx：固件扩展标识Targets：升级目标部件的集合，如果有多个使用英文逗号（,）分隔\n\n评审结论\n评审通过，同意在升级的资源协作接口中增加扩展的可选参数。 具体的扩展参数名称统一为AdditionalOptions，签名统一为 a{ss}，涉及接口有：\n\nPrepareReply\nProcessReply\nFinishReply\nUpdateUpgradeStatus\nUpgradeProcessSignal\nUpgradeFinishSignal\nlinks: #p-1259-issue-1, https://gitcode.com/openUBMC/mdb_interface/issues/27, #p-1259-h-2, #p-1259-h-3, #p-1259-h-4",
    "topic_user_name": "Lilie",
    "best_answer_url": "",
    "reply_posts": []
}