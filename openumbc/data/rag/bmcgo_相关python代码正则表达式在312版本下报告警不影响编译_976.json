{
    "topic_id": 976,
    "question": "bmcgo 相关python代码正则表达式在3.12版本下报告警；不影响编译 - content: root@hz209-z00010824:/home/workspace/general_hardware# bingo build -r=openubmc_dev\n/usr/local/lib/python3.12/dist-packages/bmcgo/logger.py:114: SyntaxWarning: invalid escape sequence ‘\\w’\nself.error_pattern = re.compile((f’((?:^|(?<=\\n)|.[^\\w\\n])(?:{self.tip_msg})(?:[^\\w\\n].|(?=\\n)|$))‘), re.I)\n/usr/local/lib/python3.12/dist-packages/bmcgo/logger.py:114: SyntaxWarning: invalid escape sequence ‘\\w’\nself.error_pattern = re.compile((f’((?:^|(?<=\\n)|.[^\\w\\n])(?:{self.tip_msg})(?:[^\\w\\n].|(?=\\n)|$))‘), re.I)\n/usr/local/lib/python3.12/dist-packages/bmcgo/component/analysis/sr_validation.py:317: SyntaxWarning: invalid escape sequence ‘/’\nfor global_sign, target_obj in re.findall(re.compile(“(?:<=|#)/(:)(\\w+)\"), prop_val):\n/usr/local/lib/python3.12/dist-packages/bmcgo/component/analysis/intf_validation.py:38: SyntaxWarning: invalid escape sequence ‘.’\npattern = \"[\"']bmc.(?:kepler|dev)(?:.[A-Z].?)?[\"']”\n/usr/local/lib/python3.12/dist-packages/bmcgo/component/analysis/intf_validation.py:46: SyntaxWarning: invalid escape sequence ‘(’\npatterns = [“bus:p?call(.+\\n?”]\n/usr/local/lib/python3.12/dist-packages/patch_ng.py:427: SyntaxWarning: invalid escape sequence ‘\\d’\nre_hunk_start = re.compile(b\"^@@ -(\\d+)(,(\\d+))? +(\\d+)(,(\\d+))? @@“)\n/usr/local/lib/python3.12/dist-packages/patch_ng.py:578: SyntaxWarning: invalid escape sequence ‘\\s’\nre_filename_date_time = b”^— ([^\\t]+)(?:\\s([0-9-]+)\\s([0-9:]+)|.)\"\n/usr/local/lib/python3.12/dist-packages/patch_ng.py:621: SyntaxWarning: invalid escape sequence ‘+’\nre_filename_date_time = b\"^+++ ([^\\t]+)(?:\\s([0-9-]+)\\s([0-9:]+)|.)\"\n/usr/local/lib/python3.12/dist-packages/patch_ng.py:653: SyntaxWarning: invalid escape sequence ‘\\d’\nmatch = re.match(b\"^@@ -(\\d+)(,(\\d+))? +(\\d+)(,(\\d+))? @@(.)“, line)\n/usr/local/lib/python3.12/dist-packages/conans/model/ref.py:96: SyntaxWarning: invalid escape sequence ‘+’\nvalidation_pattern = re.compile(\"[1][a-zA-Z0-9+.-]{%s,%s}$”\n/usr/local/lib/python3.12/dist-packages/bmcgo/utils/fetch_component_code.py:283: SyntaxWarning: invalid escape sequence ‘\\d’\nif self.include_open_source or re.fullmatch(“\\d+.\\d+.\\d+”, version_str) is not None:\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/diff.py:73: SyntaxWarning: invalid escape sequence ‘\\d’\nline = re.search(“(?<=!)\\d+”, _log)[0]\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/diff.py:78: SyntaxWarning: invalid escape sequence ‘\\s’\nif re.match('^\\sCreated-by:’, _log):\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/diff.py:84: SyntaxWarning: invalid escape sequence ‘\\s’\nif re.match(‘^\\smerge’, _log):\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/diff.py:134: SyntaxWarning: invalid escape sequence ‘+’\nmatch_aft = re.search(\"(?<=^+  - conan: ).“, diff)\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/dt_analysis.py:237: SyntaxWarning: invalid escape sequence ‘\\d’\npattern = re.compile(f”(\\d+)(?= {match_key})“)\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/zipcheck.py:191: SyntaxWarning: invalid escape sequence ‘$’\npackage_name = re.sub(”${\\w+}\", “.“, package_name)\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/zipcheck.py:241: SyntaxWarning: invalid escape sequence ‘$’\nre_str = re.sub(”${\\w+}\", \".”, re_str)\n/usr/local/lib/python3.12/dist-packages/bmcgo/utils/artget_tools.py:22: SyntaxWarning: invalid escape sequence ‘/’\ntools.run_command(f’sed -i “/<{verify_tag}>/, /</{verify_tag}>/d” {dependency_xml}’)\n/usr/local/lib/python3.12/dist-packages/bmcgo/tasks/task_build_rootfs_img.py:57: SyntaxWarning: invalid escape sequence ‘.’\nbase.append(“grep -v \".lua$\"”)\n/usr/local/lib/python3.12/dist-packages/bmcgo/tasks/task_build_rootfs_img.py:551: SyntaxWarning: invalid escape sequence ‘[’\nps1_replace = ‘PS1=\"\\\\[\\\\033[32m\\\\]~ \\\\w\\[\\\\033[m\\\\] \\\\\\\\$ \"’\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:51: SyntaxWarning: invalid escape sequence ‘\\s’\nmatch = re.search(“((DTS|AR|CR|SR)[0-9]+)\\s+”, self.commit.message)\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:82: SyntaxWarning: invalid escape sequence ‘\\s’\nmatch = re.search(“Change-Id: ([A-Ea-e0-9]+)\\s+”, self.commit.message)\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:112: SyntaxWarning: invalid escape sequence ‘.’\nif (not re.match(“[2]+/([1-9][0-9]|[0-9]).[0-9]+.[0-9]+$“, cp) and\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:113: SyntaxWarning: invalid escape sequence ‘.’\nnot re.match(”[3]+/(([1-9][0-9]|[0-9]).[0-9]+.[0-9]+)(-build.[0-9]+)$”, cp) and\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:114: SyntaxWarning: invalid escape sequence ‘.’\nnot re.match(“[4]+/(([1-9][0-9]|[0-9]).[0-9]+.[0-9]+)(.p[0-9]+)$\" + cp)):\n/usr/local/lib/python3.12/dist-packages/bmcgo/functional/maintain.py:229: SyntaxWarning: invalid escape sequence ‘.’\nif re.match(\"^(([1-9][0-9]|[0-9]).[0-9]+.[0-9]+)(-build.[0-9]+)$”, self.base_version):\n仓库地址为: https://git.codehub.xfusion.com/ManagementSoftware/openUBMC/general_hardware.git\n尝试清理conan组件锁\n\nfind /root/.conan/data -maxdepth 4 -mindepth 4 -type f -name .count | xargs rm -f\nconan create . general_hardware/1.70.47@hw.ibmc.dev/dev -pr:h profile.luajit.ini -pr:b profile.dt.ini -s build_type=Debug -r openubmc_dev -o skynet:enable_luajit=True --build=missing -tf None\n/usr/local/lib/python3.12/dist-packages/conans/assets/templates/search_table_html.py:1: SyntaxWarning: invalid escape sequence ‘\\s’\ncontent = “”\"\n\na-zA-Z0-9_ ↩︎\n\na-zA-Z0-9_- ↩︎\n\na-zA-Z0-9_- ↩︎\n\na-zA-Z0-9_- ↩︎\nlinks: #footnote-1998-1, #footnote-1998-2, #footnote-1998-3, #footnote-1998-4, https://git.codehub.xfusion.com/ManagementSoftware/openUBMC/general_hardware.git, #footnote-ref-1998-1, #footnote-ref-1998-2, #footnote-ref-1998-3, #footnote-ref-1998-4",
    "topic_user_name": "河南昆仑-郑豪伟",
    "best_answer_url": "/t/topic/976/3",
    "reply_posts": [
        {
            "user_name": "LiJiang",
            "topic_closed": true,
            "is_solution": true,
            "post_url": "/t/topic/976/3",
            "text": "content: 这个是因为Python 3.12的改动导致，之前的正则字符串中的转义字符方式被废弃了。\nimage1054×310 35.1 KB\n\nPython documentation\n\nWhat’s New In Python 3.12\nEditor, Adam Turner,. This article explains the new features in Python 3.12, compared to 3.11. Python 3.12 was released on October 2, 2023. For full details, see the changelog. Summary – Release hi...\nlinks: https://discuss.openubmc.cn/uploads/default/original/1X/acbc3cec5e6609dacedf8ebae5d170748f6d9310.png, https://docs.python.org/3/whatsnew/3.12.html#other-language-changes, https://docs.python.org/3/whatsnew/3.12.html#other-language-changes"
        },
        {
            "user_name": "河南昆仑-郑豪伟",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/976/4",
            "text": "建议代码适配一下，因为PAE提供的镜像中的python版本已经是3.12了；\n而且一般正则也会用r-string而不是string"
        },
        {
            "user_name": "LiJiang",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/976/5",
            "text": "后续会规划适配。"
        }
    ]
}