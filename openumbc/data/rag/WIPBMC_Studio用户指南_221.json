{
    "topic_id": 221,
    "question": "[WIP]BMC Studio用户指南 - content: BMC Studio用户指南\n概述\n使用BMC Studio可创建或二次编辑包括CSR、资源树、MDS、接口映射在内的模型数据，通过集成的BMC Go工具，完成对Conan仓中的组件二进制和已编辑完成模型数据的打包操作，最终生成BMC安装包。\n|功能|功能描述|\n|------|-----|\n|板卡定制|支持对新增的板卡器件进行定义以及对已有板卡的器件适配。|\n|原生开发|支持开发新的APP功能。|\n|接口定制|支持定制北向接口和对redfish、web-backend、cli、snmp接口映射配置的新增、修改和删除。|\n|编译构建|上传工具生成的CSR文件，对接编译服务器，实现一键编译出包。|\n|CSR配置|支持通过BMC系统自动发现和解析链路和器件信息，完成资源树的建立。|\n|资源树配置|支持从系统视角对BMC软件管理功能的抽象定义。|\n|MDS配置|支持定义APP管理的资源树和私有属性。|\n|接口映射配置|支持定义接口请求与资源树的对应关系、接口及属性的校验信息、属性执行映射的前置与后置处理等。|\n|模型一致性检查|支持对各个模型的语法正确性、一致性检查。|\n|\n运行环境\n仅支持x86 Ubuntu 20.04操作系统。\n安装和启动BMC Studio\n当前仅root用户支持操作安装和运行BMC Studio。\n\n安装BMC Studio\n\na. 在WLS（Windows Subsystem for Linux，以下简称WLS）下载Manifest。\nb. 在Manifest根目录执行以下命令，安装BMC Studio。\npython3 init.py\n\n启动BMC Studio，请执行以下命令。\n\nbmcgo studio -start\n\n升级BMC Studio，请执行以下命令（升级后需要重启工具）。\n\nbmcgo up\n工作空间\n配置默认空间\n首次使用BMC Studio，必须配置默认空间，如果未配置则无法进入系统。\n须知：默认工作空间配置完成后，不支持删除。\n操作步骤\n步骤1 登录BMC Studio，界面弹出的默认工作空间配置的弹框。\n步骤2 参考下表配置默认空间。\n|参数|参数说明|\n|------|-----|\n|空间名称|填写工作空间的名称，要求：1.支持数字、字母和下划线，长度不大于23个字符，要求以字母或下划线开头。2.工作空间的名称不能重复，建议用产品名称命名。|\n|数据导入方式|请根据实际情况，选择数据导入的方式。如果选择“导入Manifest”：则通过Manifest来初始化空间数据。如果选择“指定文件路径”：则导入本地开发环境的数据作为空间数据进行管理。|\n|Git地址|请输入Manifest的git仓库地址。|\n|远端分支名称|请选择待开发产品对应的Manifest分支。|\n|指定文件路径|“数据导入方式”选择“指定文件路径”时必填。请输入本地开发环境的数据所在的路径。例如：/usr/share/bmc_studio/server/users/xxxxx/oem_files。|\n|一键迁移|数据导入方式”选择“指定文件路径”时支持此勾选项。如果勾选，则表示将指定路径下的工作数据无损迁移到BMC Studio工作空间进行管理。|\n|\n步骤3 填写完毕后，单击“确认”，完成配置。\n新建工作空间\n可创建不超过10个工作空间（不包含默认工作空间），进行不同系列化产品的管理，空间之间的数据相互独立。\n步骤1 在BMC Studio首页，单击右上角工作空间按钮。\n步骤2 选择“新建工作空间”。\n步骤3 参考“配置默认空间”的参数表格填写相关信息。\n步骤4 填写完毕后，单击“确认”，完成创建工作空间。\n切换工作空间\n支持工作空间相互切换。\n\n切换工作空间不会删除工作空间内的数据。\n\n工具拉取代码和执行模型一致性检查时，不支持切换工作空间。\n\n切换工作空间成功后，工具的所有操作都是基于新工作空间的数据。\n\n切换工作空间不会删除切换前和切换后工作空间的数据。\n\n操作步骤\n步骤1 在BMC Studio首页，单击右上角工作空间名称。\n步骤2 选择需要切换的工作空间。\n步骤3 单击“切换到此空间”。提示“操作成功”表示空间切换成功。\n删除工作空间\n最多支持创建10个工作空间，如果达到创建上限，则需要删除已有的工作空间，才可继续创建。\n须知：\n\n默认工作空间不支持删除。\n\n工具拉取代码和执行模型一致性检查时，不支持删除工作空间。\n\n删除工作空间会解除工具与工作目录的关系。\n\n如果删除正在使用的工作空间，删除成功后将自动切换到默认工作空间。\n\n操作步骤\n步骤1 在BMC Studio首页，单击右上角工作空间名称。\n步骤2 选择需要删除的工作空间。\n步骤3 单击“删除此空间”，弹出删除确认的提示框，请确认后操作。\n如果勾选“同步删除工作空间数据”删除成功后，数据无法恢复，请谨慎操作。\n\n确认删除操作，请单击“确认”。\n\n取消删除操作，请单击“取消”。\n\n步骤4 确认后，完成删除工作空间操作。\n开发任务\n板卡定制\n板卡定制，分为以下两种情况。\n⦁ 板卡新增：定制新的板卡时，对新的器件进行定义。\n⦁ 板卡适配：基于已有器件库，对硬件组件进行定制，包含对组件上器件类型、数量的编排等操作。\n定义新器件操作流程（板卡新增）\n操作步骤\n步骤1 在BMC Studio首页，单击“板卡定制”，进入定制板卡操作界面。\n步骤2 请按照如下流程新增器件，操作方法参见：“操作模块 > 配置CSR模型”章节。\n1.新增CSR模型文件夹。\n2.新增CSR组件。\n3.配置模型数据。\n4.保存配置。\n步骤3 单击“保存”完成配置。\n定制硬件组件（板卡适配）\n操作步骤\n步骤1 在BMC Studio首页，单击“板卡定制”，进入定制板卡操作界面。\n步骤2 请按照如下流程新增器件，操作方法参见：“操作模块 > 配置CSR模型”章节的“修改模型”，适配硬件组件。\n步骤3 单击“保存”完成配置。\n原生开发\n使用原生开发功能开发新的APP。\n操作步骤\n步骤1 在BMC Studio首页，单击“原生开发”，进入原生开发操作界面。\n步骤2 为板卡定义资源树信息。请按照如下流程配置，具体操作方法参见“操作模块 > 配置资源树”章节。\n1.新增资源树接口文件夹。\n2.新增资源树接口。\n3.新增资源树路径。\n4.保存配置。\n步骤3 在原生开发的导航条上，单击“MDS”。\n步骤4 为板卡配置MDS信息。具体操作方法参见“操作模块 > 配置MDS”章节。\n步骤5 配置完成后，单击“保存”。\n接口定制\n可使用BMC Studio定制北向接口，包含对Redfish、Web-backend、Cli、Snmp接口映射配置的新增、修改和删除，具体操作方法，请参考“操作模块 > 配置接口映射”。\n编译构建\nBMC Studio的工作空间包含多个代码仓，这些代码仓可能被本地管理或被设置为Git工作空间。用户可通过页面配置Git仓地址，将代码同步到工作空间。工具也会自动扫描工作空间，识别出Git仓，并在仓库管理页面展示。\n说明：选择Manifest产品后，才可进行仓库初始化操作。仓库完成初始化操作后，才可获取代码。\n操作步骤\n步骤1 参考下表选择出包信息。\n|参数|参数说明|\n|—|------|\n|一键出包|基于该产品空间的本地代码一键出包。|\n|Git仓库地址|工作空间中的Git代码仓。|\n|本地分支名称|默认取值为导入Manifest时选择的远端分支，可手动切换分支。|\n|同步远端最新配置|本地分支选择后，单击此按钮进行切换。说明：切换本地分支时将同步最新的远端代码。切换分支时，要求本地代码和Manifest的库上最新代码不能存在冲突，如果存在冲突，请手动解决冲突后再切换分支。|\n|产品名称|选择分支对应的产品名称，切换产品后将重新进行仓库部署。|\n|一键仓库部署|根据Manifest中产品的配置信息，动态获取仓库配置并完成全量仓库代码的获取，注意：执行此操作会拉取最新远端代码来覆盖本地代码。|\n|获取全量代码|一键拉取全量仓库代码到对应的分支。注意：执行此此操作需要有仓库权限。|\n|名称|-|\n|类型|-|\n|开放政策|根据实际情况选择代码的开放政策。定制/开源/平台。|\n|个人远端地址|-|\n|个人远端分支|-|\n|描述|-|\n|操作|单击“编辑”可输入“个人远端地址”和“个人远端分支”。设置完成后，单击“保存”。\n|\n步骤2 单击“一键出包”，选择对应产品。\n步骤3 在组件列表勾选需要出包的组件。\n步骤4 单击“下一步：出包”。\n说明：\n\nstrategy未配置时，出包时使用默认签名方法。如果需要指定签名为self_sign，需要在/etc/bmcgo.conf配置：rootca_der、rootca_crl、signer_pem、ts_signer_pem、ts_signer_der参数。如果指定签名为server_sign，需要在/etc/bmcgo.conf配置：cert_id、uel、rootca_der、ssl_verify参数。\n\n如果出包失败，仓库管理右侧的“构建日志”列会展示出包失败的日志，可下载全量日志到本地进行分析。\n\n如果出包成功，仓库管理右侧的“固件信息”列会展示出包信息，单击“下载”将固件包下载到本地。注意：固件包仅保留三天，失效后将无法下载。\n\n“一键仓库部署”和“获取全量代码”的日志将展示在仓库日志中。\n\n仿真验证\n待开发\n操作模块\n配置CSR模块\n修改模型\nCSR描述了硬件板卡的物理组成结构，包括链路拓扑和器件描述信息。将一个可独立更换的Fru抽象为板卡（组件和部件），为每一个板卡都定义一个CSR描述文件。在运行过程中由BMC系统自动发现和解析，完成资源树的建立。\n说明：支持查看文件代码和比对代码修改前后数据，具体操方法请参考“代码预览”和“查看修改“章节。\n修改模型\n操作步骤\n步骤1 在BMC Studio选择操作模块的首页，选择CSR。\n步骤2 进入CSR模型界面，工具会自动识别产品空间中的CSR仓库。\n步骤3 在CSR列表中，选择需要操作的模型。\n步骤4 步骤下表修改模型。\n|器件名称|说明|\n|------|-----|\n|Bus|直连器件。从DDS的通用器件库获取，当前版本包含Jtag、JtagOverGpio、JtagOverLocalBus、Gpio、Hisport、I2c。Bus源于Anchor，其下至少需配置一个器件（Chip或连接器）或被传入到下级连接器。|\n|Chip|从DDS的通用器件库获取，当前版本包含Chip、Eeprom、Lm75、Pca9545、Smc、Pca9555和Cpld。hip须挂在总线下（包括Bus），各Chip详细配置描述：⦁ chip，可配置Accessor和Scanner。⦁ Eeprom，可配置Accessor。 ⦁ Lm75，可配置Accessor和Scanner。⦁ Pca9545，不可配置Accessor和Scanner，其下只能挂接Mux。⦁ Smc，有单独的模型管理页面，可配置Accessor和Scanner。⦁ Pca9555，可配置Accessor和Scanner。 ⦁ Cpld，生成Cpld_1空对象即可。 |\n|Connector|直连器件。从DDS的通用器件库获取，当前版本包含Connector、IEUPortConnector、PCIeConnector、PCIETianChiConnector、PsuConnector、TianChiConnector。若工具识别到Connector文件夹下包含UBCPortConnector和IEUPortConnector，则将其作为非直连器件处理。连接器只能挂在Bus和Mux下。|\n|Mux|直连器件。从DDS的通用器件库获取，当前版本包含I2cMux。此器件可作为总线来管理，但只能挂在Pca9545器件下。|\n|Scanner|非直连器件。从DDS的通用器件库获取，当前包含19+1种类别，在配置Scanner时可被选出，其中19种为定义的固定扫描类别，另外一种（名称为Scanner）为自定义扫描类别。|\n|Debounce|非直连器件。支持配置到Scanner下。|\n|其它|均不为直连器件。按照DDS中包含的设备树定义来配置属性即可。|\n|\n步骤5 修改完毕后，单击”保存“。\n新增文件夹\n操作步骤\n步骤1 在CSR列表中，选择需要新增文件夹的目标文件。\n步骤2 单击目标文件夹后的“操作”。例如：需要在src文件夹下新增文件夹，请单击src后的“操作”按钮。\n步骤3 选择“新增文件夹”。\n步骤4 输入文件夹名称，完成新建操作。注意：名称仅支持数字、字母和下划线。\n新增组件\n操作步骤\n步骤1 在CSR列表中，选择需要新增组件的目标文件。\n步骤2 单击目标文件夹后的“操作”。例如：需要在src文件夹下新增组件，请单击src后的“操作”按钮。\n步骤3 选择“新增组件”。\n步骤4 填写组件名称、格式版本和数据版本。数据版本和格式版本要求为A.BC的格式校验，A、B、C均为0-9的数字（A不能为0）。\n步骤5 填写完毕后，单击“保存”。\n删除组件\n操作步骤\n步骤1 在CSR列表中，选择需要删除的文件、模型或组件，单击“操作”。\n步骤2 选择“删除”。\n步骤3 工具弹出确认删除的提示框，请根据情况选择。\n⦁ 确认删除，请单击“确认”。\n⦁ 取消删除，请单击“取消”。\n检查\n操作步骤\n步骤1 在CSR列表中，选择需要检查的文件，单击“操作”。\n步骤2 选择“检查”，工具开始检查所选文件的模型一致性。\n步骤3 检查完成后，单击“检查结果”可查看详情，界面展示“错误提示”、“错误影响”和“修复建议”。\n步骤4 请根据情况选择“自动修复”或“忽略”。如果自动修复不成功，则需要手动处理。\n同步代码\n通过Git命令，将CSR配置提交到代码仓。\n操作步骤\n步骤1 选择要同步代码的主文件夹，单击“操作”。\n步骤2 选择“同步代码”。\n步骤3 如果提示“代码同步成功”，表示同步代码操作成功。\n须知：如果弹出“代码同步失败”，提示“检测到待同步数据与工具本地数据存在冲突，请通过其它工具解决冲突。您也可以执行强制覆盖操作，此操作不可逆，存在数据丢失的风险”。建议先通过其他工具解决冲突，再执行代码同步。\n配置模型和器件\n操作步骤\n步骤1 打开需要配置的CSR文件。\n步骤2 参考“修改模型”中的表格，配置模型通道。\n步骤3 单击对应器件，可修改基本信息和配置硬件功能（Scanner、Accessor）。\n步骤4 配置完成后，单击右上角“保存”。\nsmc功能添加\n操作步骤\n步骤1 选择对应组件的命令字模板（EXU/BCU/CLU/SEU），进行Accessor和Scanner的配置。\n步骤2 配置对应smc的Accessor和Scanner，以添加GetBOMVersion功能截图举例。\n⦁ 配置Accessor：\na.勾选需要添加的功能名称。\nb.单击“保存”。\n⦁ 配置Scanner：\na.选中功能名称。\nb.打开扫描策略，输入扫描周期。\nc.单击“保存”。\n⦁ 同时配置Scanner和Accessor：\na.选中功能名称。\nb.打开扫描策略，输入扫描周期。\nc.打开支持写操作。\nd.单击“保存”。\n步骤3 配置完成后，单击保存。\nCSR出包\n\n支持单个和批量打包CSR。\n\n批量生成时仅支持下载为HPM包格式。\n\n单个CSR打包\n步骤1 模型配置完成后，单击页面右侧“CSR出包”。\n步骤2 参考下表，填写出包信息。\n|参数|说明|\n|------|-----|\n|FormatVersion|填写Format的版本。|\n|DataVersion|填写Data的版本。|\n|EEPROM大小限制|选择16k或32k。|\n|OEM定制信息|选填项，请根据情况选择是否上传OEM定制信息。上传要求格式为.bin，大小不超过4KB。|\n|下载选项|勾选下载生成的格式，可同时勾选多个。支持hpm、二进制bin、json文件。|\n|\n步骤3 单击“CSR出包”。生成的CSR将自动下载到本地。\n批量CSR打包\n\n选择的CSR文件中，必须包含UID。\n\n批量生成时仅支持下载为HPM包格式。\n\n操作步骤\n步骤1 在CSR列表右上方单击“批量CSR出包”。\n步骤2 勾选需要出包的文件，单击CSR出包。\n步骤3 参考下表，填写出包信息。\n|参数|说明|\n|------|-----|\n|OEM共享文件|上传的OEM文件可用于全部CSR出包使用。|\n|EEPROM大小限制|选择16k或32k。|\n|OEM文件|为对应的CSR上传OEM文件，上传要求格式为.bin，大小不超过4KB。|\n|使用共享文件|如果勾选，表示使用OEM共享文件中上传的文件。|\n|删除|删除对应的CSR文件。|\n|\n步骤4 单击“批量CSR出包”。\n配置资源树\n资源树即为从系统视角对BMC软件管理功能的抽象定义。资源树包含对象和接口的定义，接口以bmc.kepler开头。\n说明：支持查看文件代码和比对代码修改前后数据，具体操方法请参考“代码预览”和“查看修改“章节。\n修改资源树接口/路径信息\n步骤1 选择需要操作的资源树接口/路径。\n步骤2 参考下表修改资源树接口的配置，\n说明：配置资源树接口的基本信息时，属性和方法要求至少配置一个。\n基本信息\n|分类|参数|说明|\n|—|—|-----|\n||接口名称|填写接口名称。|\n|属性|新增|接口新增属性配置。|\n||名称|必填项，要求名称不能重复。建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。|\n||类型|选择对应的接口类型。仅支持U系列、S系列、String、Bool、Double配置。|\n||校验规则|仅U系列、S系列、String、Bool、Double支持配置校验规则。范围：输入校验的取值范围。枚举：输入枚举值，以回车间隔。正则：输入标准正则表达式。|\n||设置只读|必填项。设置接口文件是否只读。|\n||变更通知|选择变更通知的模式。true: 属性值发生变化时发送包含属性值的信号。false: 属性值发生变化时不发送信号。const: 属性永不变化， 不需要发信号。invaildates: 属性值发生变化时发送不包含属性值的信号。|\n||属性值易变|选择接口属性值是否易变。默认为开启状态。|\n||描述信息|必填项。建议描述信息长度不大于1024字符。|\n|方法|方法名称|必填项，要求名称不能重复。建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。|\n||描述信息|必填项。建议描述信息长度不大于1024字符。|\n||请求体|属性名：必填项，要求名称不能重复，建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。类型：选择配置类型，仅支持U系列、S系列、String、Boolean、Double配置。描述信息：必填项，建议描述信息长度不大于1024字符。说明：如果填写“请求体”，则属性中的名称和类型均为必填项。|\n|信号|名称|必填项，要求名称不能重复。建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。|\n||字段|属性名：必填项，要求名称不能重复，建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。类型：选择配置类型，仅支持U系列、S系列、String、Boolean、Double配置。描述信息：必填项，建议描述信息长度不大于1024字符。|说明：如果填写“字段”，则属性中的名称和类型均为必填项。\n||保存|保存基本信息的配置。|\n||取消|取消基本信息的配置。|\n|\n自定义类型\n|参数|说明|\n|------|-----|\n|新增|新增接口。|\n|名称|必填项，要求名称不能重复。建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。|\n|类型|选择结构类型：结构体：添加结构体成员后，需要输入成员名称和类型。枚举类型：添加枚举内容后，需要输入枚举的类型值。字典：需要输入字典的值类型。|\n|保存|保存自定义类型的配置。|\n|取消|取消自定义类型的配置。|\n步骤3 参考下表修改资源树路径的配置。\n|参数|说明|\n|------|-----|\n|名称|必填项，与资源树文件名一致。建议使用大驼峰写法（例如：AaaBbb）且名称的长度不大于64个字符。|\n|路径|必填项，要求路径不能重复。建议路径的长度不大于246个字符。|\n|接口|必填项。要求至少包含一个有效设备树定义的接口元素。|\n|保存|保存路径的配置。|\n|取消|取消路径的配置。|\n步骤4 修改完毕后，单击“保存”，完成修改。\n新增文件夹\n步骤1 选择需要新增文件夹类型，路径或接口。\n步骤2 在资源树列表中，选择需要新增文件夹的目标文件。\n步骤3 单击目标文件夹后的“操作”。以新增路径文件举例，例如：需要在Accessor文件夹下新增文件夹，请单击Accessor后的“操作”按钮。\n步骤4 选择“新增文件夹”。\n步骤5 输入文件夹名称，完成新建操作。\n说明：名称仅支持数字、字母和下划线，且要求不能以数字开头。\n新增资源树接口/路径\n步骤1 在资源树列表中选择新增的类型：接口/路径。\n步骤2 在资源树接口/路径列表中，选择需要新增资源树的目标文件。\n步骤3 单击目标文件夹后的“操作”。例如：需要在kepler文件夹下新增资源树，请单击kepler后的“操作”按钮。\n步骤4 选择“新增资源树”。\n步骤5 参考“修改资源树接口/路径信息”中的参数列表。配置资源树接口/路径。\n步骤6 配置完成后，单击“保存”。\n检查\n步骤1 在资源树接口/路径列表中，选择需要检查的文件，单击“操作”。\n步骤2 选择“检查”，工具开始检查所选文件的模型一致性。\n步骤3 检查完成后，单击“检查结果”可查看详情。界面展示“错误提示”、“错误影响”和“修复建议”。\n步骤4 请根据情况选择“自动修复”或“忽略”。如果自动修复不成功，则需要手动处理。\n删除资源树接口/路径\n步骤1 在资源树接口/路径列表中，选择需要删除的文件，单击“操作”。\n步骤2 选择“删除”。\n步骤3 工具弹出确认删除的提示框，请根据情况选择。\n确认删除，请单击“确认”。\n取消删除，请单击“取消”。\n配置MDS\nMDS是APP的模型描述文件，定义了该APP管理的资源树和私有属性。\n说明：支持查看文件代码和比对代码修改前后数据，具体操方法请参考“代码预览”和“查看修改”章节。\n修改MDS信息\n操作步骤\n步骤1 选择需要操作的文件。\n步骤2 参考下表修改配置信息。\n说明：信息填写完毕后，未保存当前页面信息，切换页面时会清空当前页面编辑的全部内容，请谨慎操作。\n基本信息\n|参数|参数说明|\n|----|-------|\n|名称|必填项，要求名称不能重复。建议名称的长度不大于64个字符。|\n|类型|选择MDS文件的类型，必填项。application/configuration/tool/library。如果选择非application类型，保存基本信息后，会清空类定义、impi命令和自定义类型的数据。如果当前值不在可选范围（application、configuration、tool、library）内，请重新校验。|\n|组件版本|MDS文件的组件版本，必填项。格式要求：要求输入为整数。例如：A.B.C格式，其中A、B、C为整数（可为0开头）。|\n|license|许可证序列号，必填项。建议license的长度不大于128个字符。|\n|个人作者/组织|MDS文件的归属人。|\n|描述|MDS文件的描述。|\n|部署配置|选择部署配置.service。仅“类型”选择为“application”时需要填写。|\n|组件名称|选择或手动填写构建建依赖的组件名称。|\n|版本号条件|选择或手动填写对应组件的版本号条件。|\n|接口名称|选择或手动填写资源树接口的名称。|\n|接口路径|选择或手动填写资源树接口的路径。|\n|\n类定义\n|参数|参数说明|\n|----|-------|\n|类名|MDS文件的类名。如果类在资源树存在具体路径，要求类名必须与资源树路径对应的文件名一致。如果类未在资源树存在具体路径，要求MDS文件中类名不可重复。|\n|上层类|将该类管理的资源建立为指定类的子资源，便于APP内访问。|\n|数据库表名|类管理的资源树属性及私有属性的持久化，在APP内表名不可重复。如果配置持久化类型，须填写数据库表名。|\n|本地管理|开启本地管理。表示由组件完成持久化数据的读写操作。关闭本地管理，表示由框架代为管理。通常对于流量较大的数据进行持久化，才会选择打开本开关，例如SEL事件、采集数据等。|\n|持久化类型|设置类的持久化类型，此设置在类中全局生效。永久持久化：BMC升级、恢复出厂设置、AC下电数据不丢失，Flash擦写数据丢失。掉电持久化：BMC升级、BMC重启、AC下电数据不丢失，恢复出厂设置、Flash擦写数据丢失。复位持久化：BMC重启数据不丢失、BMC升级、AC下电、Flash擦写数据丢失。临时持久化：APP重启数据不丢失、BMC重启数据丢失。|\n|禁止业务修改|持久化类型选择掉电持久化、复位持久化、临时持久化时，可选择此按钮。|\n|描述|填写描述信息。|\n|资源树路径|选择资源树路径。|\n|权限配置|配置资源树对象、属性、方法和私有属性的权限，可同时配置多个权限。|\n|接口集合|接口名称：要求资源树接口需存在定义。方法：为该接口配置权限，可同时配置多个权限。|\n|属性名称|类的私有属性名称，要求名称不能包含空格，且名称不能重复。|\n|类型|选择数据类型，U/S/Double/String/Boolean/自定义类型。|\n|校验规则|选择的类型不同，校验规则不一致，请根据界面实际选择结果处理。长度：输入字符串长度的取值范围。范围：输入校验的取值范围。枚举：输入枚举值，以回车间隔。正则：输入标准正则表达式。|\n|默认值|类型选择Boolean时，需要选择默认值。请根据实际情况选择设置true或false。|\n|持久化类型|不同接口存在同名属性时，该同名属性用途不能包含自描述配置。为了避免查看时产生歧义，建议在私有属性下新增此属性。永久持久化：BMC升级、恢复出厂设置、AC下电数据不丢失，Flash擦写数据丢失。掉电持久化：BMC升级、BMC重启、AC下电数据不丢失，恢复出厂设置、Flash擦写数据丢失。复位持久化：BMC重启数据不丢失、BMC升级、AC下电、Flash擦写数据丢失。临时持久化：APP重启数据不丢失、BMC重启数据丢失。|\n|禁止业务修改|持久化类型选择掉电持久化、复位持久化、临时持久化时，可选择此按钮。|\n|数据库主键|至少存在一个接口属性或私有属性此字段的值配置为打开状态。|\n|持久化选项|选填项，对持久化类型的约束。|\n|设置只读|设置文件是否只读。|\n|描述信息|输入不能为空。|\n|添加属性|单击可继续添加，并配置私有属性。|\n|保存|保存配置。|\n|取消|取消配置。|\n|\nipmi命令\n|参数|参数说明|\n|----|-------|\n|IPMI命令集合名称|必填项，要求名称不能重复。建议名称的长度不大于64个字符。|\n|新增|新增MDS文件ipmi命令配置。|\n|命令名称|必填项，要求名称不能重复。建议名称的长度不大于64个字符。|\n|网络功能码|必填项，要求填写16进制1个字节的数字字符串（例如：0xCD，0x02，不区分大小写）。|\n|命令字|必填项，要求填写16进制1个字节的数字字符串（例如：0xCD，0x02，不区分大小写）。|\n|优先级|选择Default、OEM、ODM、OBM、EndUser。|\n|角色|配置角色。User、Administrator、Operator、Unspecified、Callback、OEM。|\n|权限配置|单击下拉框为对应角色配置权限，可同时配置多个权限。|\n|参数名称|必填项，要求参数名称不能重复。|\n|类型|选择基数类型（U8、U16、U32、U64、String、U8）。基数类型选择String和U8时，长度为不定长。|\n|长度|输入该基数的长度。|\n|单位|输入数基数长度的单位。|\n|过滤条件|输入需要过滤的参数条件，类型、长度或B（字节）。|\n|参数名称|必填项，要求参数名称不能重复。|\n|类型|选择基数类型（U8、U16、U32、U64、String、U8）。基数类型选择String和U8时，长度为不定长。|\n|长度|输入该基数的长度。|\n|单位|输入数基数长度的单位。|\n|默认值|-|\n|保存|保存配置。|\n|取消|取消配置。|\n|\n自定义类型\n|参数|参数说明|\n|----|-------|\n|新增|增加MDS文件自定义类型。|\n|名称|必填项，要求名称不能重复。建议名称的长度不大于64个字符。|\n|类型|选择结构类型：结构体：添加结构体成员后，需要输入成员名称和类型。枚举类型：添加枚举内容后，需要输入枚举的类型值。字典：需要输入字典的值类型。切换类型会清空当前已添加的类型成员，请谨慎操作。|\n|添加结构成员|成员名称：必填项，要求名称不能重复，建议名称的长度不大于64个字符。类型：选择添加的结构体成员类型，U/S/Double/String/Boolean/自定义类型。仅类型选择“结构体”，添加结构体成员时，需要填写。|\n|添加枚举变量|根据枚举变量的名称，填写对应的枚举值。类型选择“枚举类型”，添加枚举变量时，需要填写。|\n|值类型|选填项，选择字典类型的值类型。仅类型选择“字典”，需要填写。|\n|保存|保存配置。|\n|取消|取消配置。|\n步骤3 修改完毕后，单击“保存”，完成修改。\n检查\n步骤1 在MDS列表中，选择需要检查的文件，单击“操作”。\n步骤2 选择“检查”，工具开始检查所选文件的模型一致性。\n步骤3 检查完成后，单击“检查结果”可查看详情，界面展示“错误提示”、“错误影响”和“修复建议”。\n步骤4 请根据情况选择“自动修复”或“忽略”。如果自动修复不成功，则需要手动处理。\n同步代码\n通过Git命令，将MDS配置提交到代码仓。\n步骤1 选择要同步代码的主文件夹，单击“操作”。\n步骤2 选择“同步代码”。\n步骤3 如果提示“代码同步成功”，表示同步代码操作成功。\n须知：\n如果弹出“代码同步失败”，提示“检测到待同步数据与工具本地数据存在冲突，请通过其它工具解决冲突。您也可以执行强制覆盖操作，此操作不可逆，存在数据丢失的风险”。建议先通过其他工具解决冲突，再执行代码同步。\n删除MDS文件\n步骤1 在MDS列表中，选择需要删除的文件，单击“操作”。\n步骤2 选择“删除”。\n步骤3 工具弹出确认删除的提示框，请根据情况选择。\n确认删除，请单击“确认”。\n取消删除，请单击“取消”。\n配置接口映射\n使用redfish/web-backend/snmp/cli）的设计，引入数据映射器机制，框架解析数据映射配置，将接口请求转发到资源树，拼装返回对应格式的数据。\n映射配置定义了如下内容：\n\n接口请求与资源树的对应关系。\n\n接口及属性的校验信息。\n\n属性执行映射的前置与后置处理等。\n\n新增文件夹\n操作步骤\n步骤1 选择需要新增的接口类型，Redfish、Webrest、CLi或Snmp。\n步骤2 在文件列表中，选择需要新增文件的目标文件夹。\n步骤3 单击目标文件后的“操作”。例如：需要在Accounts文件夹下新增文件夹，请单击Accounts后的“操作”按钮。\n步骤4 输入文件夹名称，完成新建操作。名称仅支持数字、字母、下划线和中划线，且要求不能以数字开头。\n新增接口映射\n操作步骤\n步骤1 选择需要新增的接口类型，Redfish、Webrest、CLi或Snmp。\n步骤2 在文件列表中，选择需要新增接口映射的目标文件夹。\n步骤3 单击目标文件后的“操作”。例如：需要在Accounts文件夹下新增接口映射，请单击Accounts后的“操作”按钮。\n步骤4 选择“新增接口映射”。\n步骤5 输入接口名称。名称仅支持数字、字母、下划线和中划线，且要求不能以数字开头。\n步骤6 单击“新增资源”，输入资源信息。\n步骤7 单击“确认”接口新增成功。\n步骤8 参考下表设置接口信息，以下以新增Redfish接口举例。其他接口根据界面提示设置各项参数即可。\nRedfish参数操作说明\n|操作|参数|参数说明|\n|–|–|–|\n|GET(返回所请求的资源描述)|判断资源是否存在|选择“添加匹配条件”，输入需要匹配的资源条件。可同时添加多个匹配条件，添加完成后如需删除某一个条件，请单击该条件后的删除按钮进行操作。|\n||默认分页|分页查询参数的默认值配置，示例写法：Query.Skip、Query.Top。|\n||资源树列表|在资源树列表中，选择需要配置的资源树。|\n||响应体|从Statements自动生成。如需添加属性，请单击“新增属性”，输入对应的“属性名称”，“类型”和“配置值”。删除属性，请的单击对应属性“操作”列的“删除”。|\n|PATH(修改指定资源)|判断资源是否存在|选择“添加匹配条件。|\n||锁定可写|开启“锁定可写”表示该资源只能被写入，不能被其他进程、用户读取或修改。关闭“锁定可写”表示解除对资源的锁定状态，该资源可以被其他进程、用户进行读取或其他类型的访问操作。|\n||资源树列表|在资源树列表中，选择需要配置的资源树。|\n||请求体|-|\n|POST(创建新资源或执行指定资源)|判断资源是否存在|选择“添加匹配条件”，输入需要匹配的资源条件。可同时添加多个匹配条件，添加完成后，如须删除某一个条件，请单击该条件后的删除按钮进行操作。|\n||锁定可写|开启“锁定可写”表示该资源只能被写入，不能被其他进程、用户读取或修改。关闭“锁定可写”表示解除对资源的锁定状态，该资源可以被其他进程、用户进行读取或其他类型的访问操作。|\n||请求体|-|\n||响应体|-|\n|DELETE(删除指定资源)|判断资源是否存在|选择“添加匹配条件”，输入需要匹配的资源条件。可同时添加多个匹配条件，添加完成后，如须删除某一个条件，请单击该条件后的删除按钮进行操作。|\n||锁定可写|开启“锁定可写”表示该资源只能被写入，不能被其他进程、用户读取或修改。关闭“锁定可写”表示解除对资源的锁定状态，该资源可以被其他进程、用户进行读取或其他类型的访问操作。|\n||新建映射|可新建属性、方法、List以及Tast映射。|\n检查\n操作步骤\n步骤1 在接口文件或文件夹中，选择需要检查的文件，单击“操作”。\n步骤2 选择“检查”，工具开始检查所选文件的模型一致性。\n步骤3 检查完成后，单击“检查结果”可查看详情。界面展示“错误提示”、“错误影响”和“修复建议”。\n步骤 4请根据情况选择“自动修复”或“忽略”。如果自动修复不成功，则需要手动处理。\n删除接口文件\n操作步骤\n步骤 1在接口文件列表中，选择需要删除的文件，单击“操作”。\n步骤 2选择“删除”。\n步骤 3工具弹出确认删除的提示框，请根据情况选择。\n确认删除，请单击“确认”。\n取消删除，请单击“取消”。\n常用操作\n代码预览\n使用代码预览功能，可在工具界面预览各文件的代码。\n操作步骤\n步骤1 选择需要查看代码的文件。\n步骤2 单击页面右侧的“代码预览”按钮。\n步骤3 界面右侧展示对应文件的代码。\n说明：如需搜索代码内的关键字，请将鼠标选中代码框内的任意位置，使用Ctrl+F，输入关键字搜索。代码内存在多个相同的关键字时，可使用Ctrl+G跳转。\n查看修改\n使用“查看修改”功能，可将修改前和修改后的数据进行比对。\n说明：仅支持比对最近一次保存前后的数据。\n操作步骤\n步骤1 选择操作模块。\n步骤2 单击左上角“查看修改”的按钮。\n步骤3 选择目标文件，比对修改前后的数据。\n\n如需搜索代码内的关键字，请将鼠标选中需要搜索的代码框内任意位置，使用Ctrl+F，输入关键字搜索。代码内存在多个相同的关键字时，可使用Ctrl+G跳转。\n\n勾选“统一缩进查看”，可统一缩进格式，便于查看。\n\n如需编辑数据，请单击右上角“编辑”按钮，编辑完成后，单击“保存”。\n\n模型一致性检查\nBMC Studio支持模型的可视化配置，模型与模型之间存在配套关系，通过此功能可以检查出模型之间不一致的错误，并给出告警提示。\n说明：工具根据默认的检查规则，检查指定的模型。\n操作步骤\n步骤1 在工具首页单击右上角问号旁边的按钮。\n步骤2 进入“模型一致性检查界面”。\n步骤3 单击右上角“开始检查”按钮。\n步骤4 工具将根据已有的检查规则，检查各模型一致性。\n步骤5 检查结束后，可在“检查结果”页签查看检查详情，参数说明请参考下表。\n|参数|说明|\n|------|-----|\n|规则ID|检查规则的ID。|\n|所属模型|可筛需要展示的报错模块。|\n|错误提示|具体错误原因。|\n|错误影响|错误的影响。|\n|修复建议|具体的修复建议。|\n|告警等级|可筛选展示的高级等级。“高”，“中”，“低”。|\n|产生时间|最后一次检查结果的时间。|\n|操作|自动修复：单击可对该报错进行自动修复,如果自动修复不成功，则需要手动处理。忽略：忽略此报错。|\n|\nlinks: #p-308-bmc-studio-1, #p-308-h-2, #p-308-h-3, #p-308-bmc-studio-4, #p-308-h-5, #p-308-h-6, #p-308-h-7, #p-308-h-8, #p-308-h-9, #p-308-h-10, #p-308-h-11, #p-308-h-12, #p-308-h-13, #p-308-h-14, #p-308-h-15, #p-308-h-16, #p-308-csr-17, #p-308-h-18, #p-308-mds-19, #p-308-h-20, #p-308-h-21, #p-308-h-22, #p-308-h-23, #p-308-h-24",
    "topic_user_name": "Zy99",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "张雨博",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/221/2",
            "text": "content: 文档已发布至社区文档中心，此文章归档\n\nopenubmc.cn\n\nBMC Studio用户指南 | openUBMC\nopenUBMC\nlinks: https://www.openubmc.cn/docs/zh/development/tool_guide/bmc_studio_tool.html, https://www.openubmc.cn/docs/zh/development/tool_guide/bmc_studio_tool.html"
        },
        {
            "user_name": "张雨博",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/221/3",
            "text": ""
        }
    ]
}