{
    "topic_id": 931,
    "question": "【已评审】ConfigurationModel和客户Redfish规范版本配套资源树与定制化方案评审 - content: 关联issue\nredfish System资源支持ConfigurationModel属性\nbmc.kepler.Systems.Product.Custom新增CustomerRedfishVersion属性\n支持客户redfish规范版本定制化与导入导出\n背景\n客户的redfish接口规范要求在/redfish/v1/Systems/{Systemid}下支持查询和设置客户采购的硬件配置型号（ConfigurationModel），支持查询客户Redfish规范版本\n决策点\n决策点1：客户采购的硬件配置型号（ConfigurationModel）出厂定制化方案\n决策点2：客户Redfish规范版本出厂定制化方案\n决策点3：新增资源树接口属性支持查询客户Redfish规范版本\n详细描述\n决策点1：客户采购的硬件配置型号（ConfigurationModel）出厂定制化方案\n方案一：保持现有能力不变更，使用已有的定制项BMCSet_PackageCustomerVersion\n方案二：新增资源协作接口属性ConfigurationModel与定制项BMCSet_ComSysConfigurationModel\n资源path： /bmc/kepler/Systems/${SystemId}/Product\n资源interface： bmc.kepler.Systems.Product.Custom\n变化类型：新增属性\n应用场景：定制化时配置属性值，通过redfish接口获取属性值\n持久化类型： 掉电持久化  操作权限：BasicSetting/ReadOnly\n详细描述：\n\n属性名称\n变化类型\n签名\n读写&权限\n持久化\n变化通知\n接口说明\n接口约束\n\nConfigurationModel\n新增属性\ns\nR：ReadOnly W：BasicSetting\n掉电持久化\ntrue\n客户采购的硬件配置型号\n默认为空字符串\n\n定制化项/配置项名称： BMCSet_ComSysConfigurationModel\n应用场景：定制化配置模型名称\n\n定制化项名称(中文）\n定制化项\n归属组件\n取值说明\n默认值\n处理逻辑（伪代码）\n说明\n实现方式（配置文件导入、IPMI命令）\n\n硬件配置型号\nBMCSet_ComSysConfigurationModel\nProduct_mgmt\n字符串\n空字符串\nif(BMCSet_ComSysConfigurationModel != ‘’)：设置硬件配置型号为BMCSet_ComSysConfigurationModel的值else：设置硬件配置型号为空字符串\n出厂定制客户采购的硬件配置型号\n配置文件导入\n\n决策点2：客户Redfish规范版本出厂定制化方案\n\n定制化项/配置项名称： BMCSet_CustomerRedfishVersion\n\n应用场景：定制化客户Redfish规范版本\n\n定制化项名称(中文）\n定制化项\n归属组件\n取值说明\n默认值\n处理逻辑（伪代码）\n说明\n实现方式（配置文件导入、IPMI命令）\n\n客户Redfish规范版本\nBMCSet_CustomerRedfishVersion\nProduct_mgmt\n字符串\n空字符串\nif(BMCSet_CustomerRedfishVersion != ‘’)：设置客户Redfish规范版本为CustomerRedfishVersion的值else：设置客户Redfish规范版本为空字符串\n定制客户redfish规范版本\n配置文件导入\n\n决策点3：新增资源树接口属性支持查询客户Redfish规范版本\n资源path： /bmc/kepler/Systems/${SystemId}/Product\n资源interface： bmc.kepler.Systems.Product.Custom\n变化类型：新增属性\n应用场景：1、出厂定制化时配置；2、通过redfish接口查询\n持久化类型： 掉电持久化\n操作权限：BasicSetting/ReadOnly\n详细描述：\n\n属性名称\n变化类型\n签名\n读写&权限\n持久化\n变化通知\n接口说明\n接口约束\n\nCustomerRedfishVersion\n新增属性\ns\nR：ReadOnly W：BasicSetting\n掉电持久化\ntrue\n客户Redfish规范版本\n默认为空字符串\n\n评审结论\n决策点1：redfish属性ConfigurationModel 对应的定制化方案评审\n采用方案一：使用当前已有的定制项BMCSet_PackageCustomerVersion，不新增定制项与接口\n决策点2：客户Redfish规范版本出厂定制化方案评审\n1、同意新增定制项BMCSet_CustomerRedfishVersion，默认值为空字符串，最大长度为128。\n2、增加配置导入导出项CustomerRedfishVersion\n\n配置项名称（中文）\n配置项类别\n配置项\n归属组件\n取值说明\n默认值\n导入导出类型（ExportOnly，ImportAndExport）\n导出后是否可直接导入（无修改）\n\n客户redfish规范版本\nBMC\nCustomerRedfishVersion\nProduct_mgmt\n字符串\n空字符串\nImportAndExport\n是\n\n决策点3：新增资源树接口属性支持查询客户Redfish规范版本\n同意在bmc.kepler.Systems.Product.Custom接口新增属性CustomerRedfishVersion，签名s，最大长度为128，掉电持久化，需要发送变更通知事件\nlinks: #p-1903-issue-1, https://gitcode.com/openUBMC/rackmount/issues/97, https://gitcode.com/openUBMC/mdb_interface/issues/69, https://gitcode.com/openUBMC/profile_schema/issues/12, #p-1903-h-2, #p-1903-h-3, #p-1903-h-4, #p-1903-h-1configurationmodel-5, #p-1903-bmcset_packagecustomerversion-6, #p-1903-configurationmodelbmcset_comsysconfigurationmodel-7, #p-1903-h-2redfish-8, #p-1903-h-3redfish-9, #p-1903-h-10, #p-1903-h-1redfishconfigurationmodel-11, #p-1903-h-2redfish-12, #p-1903-h-3redfish-13",
    "topic_user_name": "Zhangyu",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "huanghan",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/931/3",
            "text": ""
        }
    ]
}