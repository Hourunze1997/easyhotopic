{
    "topic_id": 1067,
    "question": "OS下电后存在日志刷屏 - OS下电后app.log中会持续打印下面日志：\n2025-05-22 02:01:32.267383 network_adapter ERROR: init.lua(83): get pci register info failed, error: 195 [repeated 19 times in 308s from 2025-05-22 01:56:24.340900 to 2025-05-22 02:01:32.267383]\n2025-05-22 02:02:30.261052 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:02:30.262576 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:02:30.264043 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:03:32.261692 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:03:32.262146 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:03:32.262332 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:04:34.253454 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:04:34.253845 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:04:34.254009 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:05:36.254213 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:05:36.254540 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:05:36.256507 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:06:36.167660 network_adapter ERROR: init.lua(83): get pci register info failed, error: 195 [repeated 19 times in 304s from 2025-05-22 02:01:32.267383 to 2025-05-22 02:06:36.167660]\n2025-05-22 02:06:38.236486 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:06:38.236756 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:06:38.236938 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:07:42.128235 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:07:42.129360 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:07:42.129686 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:08:46.103818 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:08:46.104105 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:08:46.104300 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:09:50.082630 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:09:50.082938 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:09:50.083147 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:10:54.060257 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:10:54.060489 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:10:54.060664 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:11:40.047118 network_adapter ERROR: init.lua(83): get pci register info failed, error: 195 [repeated 19 times in 304s from 2025-05-22 02:06:36.167660 to 2025-05-22 02:11:40.047118]\n2025-05-22 02:11:58.035482 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:11:58.035788 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:11:58.036485 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:13:01.995424 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:13:01.995807 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:13:01.995956 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n2025-05-22 02:14:06.003717 pcie_device ERROR: pcie_card.lua(190): get pci register info failed, error: 195\n2025-05-22 02:14:06.003948 pcie_device ERROR: pcie_card.lua(198): pcie_get_capid_addr: failed to get first cap id.\n2025-05-22 02:14:06.004107 pcie_device ERROR: pcie_card.lua(280): get_pcie_lang_info: get cap id addr failed.\n分析代码发现在pcie_device组件device_service.lua文件中function c_device_service:register_get_pcie_info_task(pcie_device_obj, position)会持续调用pcie_card_obj:get_pcie_lang_info(device_obj)函数，最后会调用local function get_pcie_info_from_ipmi(bus, pcie_info)去发ipmi命令获取属性，ipmi命令失败后会一直打印日志，造成刷屏",
    "topic_user_name": "Jiaoxinchao",
    "best_answer_url": "/t/topic/1067/2",
    "reply_posts": [
        {
            "user_name": "Huangjiapei O2800",
            "topic_closed": true,
            "is_solution": true,
            "post_url": "/t/topic/1067/2",
            "text": "content: 已提issue跟踪解决\n\ngitcode.com\n\nGitCode - 全球开发者的开源社区,开源代码托管平台\nGitCode是面向全球开发者的开源社区,包括原创博客,开源代码托管,代码协作,项目管理等。与开发者社区互动,提升您的研发效率和质量。\nlinks: https://gitcode.com/openUBMC/pcie_device/issues/12, https://gitcode.com/openUBMC/pcie_device/issues/12"
        }
    ]
}