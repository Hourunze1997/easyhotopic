{
    "topic_id": 1682,
    "question": "硬件监控防抖机制参考 - content: 硬件监控防抖机制参考\n本文档仅给出硬件监控系统中使用的各种防抖机制及其应用场景的参考，具体使用还需结合业务场景和硬件性能确定。\n1. Median 类（中值滤波）\n1.1 median_s5（有符号中值滤波5次防抖）\n\n序号\n应用场景\n类型\n\n1\nRAID卡BBU温度\n温度监控\n\n2\nCPU VRD芯片温度\n温度监控\n\n3\nGPU卡温度\n温度监控\n\n4\nRetimer芯片温度\n温度监控\n\n5\n进风口/出风口温度\n温度监控\n\n6\n1880核温值\n温度监控\n\n2. Cont 类（持续防抖）\n2.1 cont_3\n\n序号\n应用场景\n类型\n\n1\nPCB版本\n版本信息\n\n2.2 cont_5\n\n序号\n应用场景\n类型\n\n1\n线缆在位\n硬件状态\n\n2\nRiser卡电源异常\n电源状态\n\n3\nI2C器件访问\n通信状态\n\n4\nRiser卡在位\n硬件状态\n\n5\n系统功率\n功率监控\n\n6\n时钟状态监测\n时钟状态\n\n7\nEEPROM PG监控\n硬件监控\n\n8\n出风口温度状态\n温度状态\n\n9\n1880核温状态\n温度状态\n\n10\nSSD、HDD硬盘剩余磨损率\n硬盘健康\n\n11\n硬盘故障状态\n硬盘状态\n\n12\n网口连接状态\n网络状态\n\n2.3 cont_6\n\n序号\n应用场景\n类型\n\n1\n内存故障监控\n内存状态\n\n2\n电源输出电压监控\n电压监控\n\n3\n电压模块接触不良监控\n电压监控\n\n2.4 cont_20\n\n序号\n应用场景\n类型\n\n1\n级联器件的I2C器件故障\n通信故障\n\n2\n电源数量不满足配置告警\n电源配置\n\n3\n电池数量不满足配置告警\n电池配置\n\n3. MidAvg 类（中值平均防抖）\n3.1 midavg_s3（有符号中值平均3次防抖）\n\n序号\n应用场景\n类型\n\n1\nCPU温度\n温度监控\n\n2\nSSD/HDD硬盘温度\n温度监控\n\n3\nCPU VRD电压\n电压监控\n\n3.2 midavg_s4（有符号中值平均4次防抖）\n\n序号\n应用场景\n类型\n\n1\n进风口温度\n温度监控\n\n2\n后置硬盘背板温度监控\n温度监控\n\n3\nGPU卡温度监控\n温度监控\n\n4\nNIC卡温度监控\n温度监控\n\n5\nIB卡温度监控\n温度监控\n\n6\nSSD/HDD硬盘温度\n温度监控\n\n7\nLOM卡温度\n温度监控\n\n8\nCPU温度\n温度监控\n\n3.3 midavg_s6（有符号中值平均6次防抖）\n\n序号\n应用场景\n类型\n\n1\n进风口温度监控\n温度监控\n\n2\n出风口温度监控\n温度监控\n\n3\nCPU温度\n温度监控\n\n4\n1711芯片温度\n温度监控\n\n5\nGPU卡温度监控\n温度监控\n\n6\nSSD/HDD硬盘温度\n温度监控\n\n7\nNIC卡温度监控\n温度监控\n\n8\nLOM卡温度\n温度监控\n\n9\nRAID卡BBU温度\n温度监控\n\n3.4 midavg_u6（无符号中值平均6次防抖）\n\n序号\n应用场景\n类型\n\n1\nRTC电压\n电压监控\n\n2\n硬盘背板电压\n电压监控\n\n3\nRiser电压\n电压监控\n\n4\nCPU电压\n电压监控\n\n5\nADC电压\n电压监控\n\n4. ContBin 类（持续二值防抖）\n4.1 contbin_H2L2\n\n序号\n应用场景\n类型\n\n1\n时钟监测\n时钟状态\n\n2\n硬盘背板在位\n硬件状态\n\n3\n硬盘背板I2C故障\n通信故障\n\n4\nRiser卡在位\n硬件状态\n\n5\nLOM卡在位\n硬件状态\n\n6\nCPLD开焊检测\n硬件故障\n\n7\nBasicBoard在位\n硬件状态\n\n8\n风扇状态\n散热状态\n\n9\n数码管显示\n显示状态\n\n10\nU位高度监控\n物理状态\n\n4.2 contbin_H2L1\n\n序号\n应用场景\n类型\n\n1\n电池放电状态\n电池状态\n\n2\nAR卡网口状态\n网络状态\n\n4.3 contbin_H3L3\n\n序号\n应用场景\n类型\n\n1\n网口linkdown状态\n网络状态\n\n2\nCPLD寄存器检测\n硬件检测\n\n3\n获取单板boardid\n硬件信息\n\n4\nCPU内存温度读取\n温度监控\n\n5\n漏液检测卡数量\n安全监控\n\n6\n漏液检测卡在位\n安全监控\n\n7\n主从同步链路故障码\n通信故障\n\n8\n水侵绳不在位\n安全监控\n\n9\nBBU故障\n硬件故障\n\n10\n上电超时故障\n电源故障\n\n11\nRiser PG失败检测\n硬件故障\n\n12\nPCA9545故障\n通信故障\n\n13\n风扇模块不在位\n散热状态\n\n14\n电源冗余失效\n电源故障\n\n15\nCAN PG监控\n通信监控\n\n16\nBIOS启动超时状态监控\n系统状态\n\n17\n级联板温度告警\n温度告警\n\n18\n时钟信号异常告警\n时钟故障\n\n4.4 contbin_H3L1\n\n序号\n应用场景\n类型\n\n1\nMOS过热告警\n温度告警\n\n2\n风扇状态监控\n散热状态\n\n3\nPCIE卡拔出监控\n硬件状态\n\n4\nIOM板连接器状态\n硬件状态\n\n5\n主板电源电压异常\n电压异常\n\n6\n网卡在位掩码\n网络状态\n\n7\n线缆连接告警\n连接故障\n\n8\n线缆插错告警\n连接故障\n\n4.5 contbin_H4L4\n\n序号\n应用场景\n类型\n\n1\n硬盘背板在位\n硬件状态\n\n2\n电源在位\n电源状态\n\n3\n时钟检测\n时钟状态\n\n4\nSlimLine线缆告警\n连接故障\n\n4.6 contbin_H5L5\n\n序号\n应用场景\n类型\n\n1\nSDI卡串口线缆在位检测\n连接状态\n\n2\n一次备电容量告警\n电源告警\n\n3\n后延伸板宇主板线缆检测告警\n连接故障\n\n4\n时钟信号丢失告警\n时钟故障\n\n5\n电源风扇故障告警\n散热故障\n\n6\nM2硬盘在位信号\n硬盘状态\n\n7\nCPU初始化异常告警\n系统故障\n\n8\n内存故障告警\n内存故障\n\n4.7 contbin_H5L1\n\n序号\n应用场景\n类型\n\n1\n与管理板心跳异常\n通信故障\n\n2\n风扇类型\n散热配置\n\n3\n风扇冗余失效\n散热故障\n\n4\nRetimer温度读取失败\n温度故障\n\n4.8 contbin_H5L40\n\n序号\n应用场景\n类型\n\n1\nPG监控\n硬件监控\n\n4.9 contbin_H10L10\n\n序号\n应用场景\n类型\n\n1\nPCIe RAID卡故障监控\n硬件故障\n\n4.10 contbin_H10L5\n\n序号\n应用场景\n类型\n\n1\n进风口、出风口温度读取失败\n温度故障\n\n2\nPCH温度读取失败\n温度故障\n\n3\nCPU温度读取失败\n温度故障\n\n4\n系统电压读取失败\n电压故障\n\n5\nPCIe switch温度读取失败\n温度故障\n\n6\nRAID卡温度读取失败\n温度故障\n\n7\n硬盘背板I2C访问失败\n通信故障\n\n4.11 contbin_H15L15\n\n序号\n应用场景\n类型\n\n1\n线缆检测\n硬件检测\n\n2\n网口带宽占用率过高监控\n网络监控\n\n4.12 contbin_H20L3\n\n序号\n应用场景\n类型\n\n1\nSSD故障监控\n硬盘故障\n\n2\nPCIe卡在位\n硬件状态\n\n4.13 contbin_H20L0\n\n序号\n应用场景\n类型\n\n1\n风扇转速生效标志\n散热控制\n\n4.14 contbin_H20L5\n\n序号\n应用场景\n类型\n\n1\n风扇转速异常\n散热故障\n\n2\n电源在位个数不满足监控\n电源配置\n\n3\n工作电源个数不满足监控\n电源配置\n\n4\n背板/风扇板EEPROM的I2C故障\n通信故障\n\n5\n主板上的心跳网口故障\n网络故障\n\n6\nBBU通信丢失监控\n通信故障\n\n7\nRiser PCA9545访问失败\n通信故障\n\n8\nRetimer I2C访问失败\n通信故障\n\n9\nGPU卡温度读取失败\n温度故障\n\n10\n风扇板状态监控\n散热状态\n\n11\nPG监控\n硬件监控\n\n12\nPCA9555访问失败\n通信故障\n\n13\nPCIe RAID卡控制器通信丢失\n通信故障\n\n14\nHi1822温度读取失败\n温度故障\n\n15\nVRD温度读取失败\n温度故障\n\n4.15 contbin_H40L5\n\n序号\n应用场景\n类型\n\n1\nI2C通信丢失\n通信故障\n\n2\n电源功率读取失败\n功率故障\n\n3\nI/O板中间进风口温度读取失败\n温度故障\n\n4\nEIUA板监测点电压读取失败\n电压故障\n\n5\nPCIe switch温度读取失败\n温度故障\n\n6\nPCIe卡温度读取失败\n温度故障\n\n7\nI2C器件访问失败\n通信故障\n\n8\nRetimer访问失败\n通信故障\n\n4.16 contbin_H60L5\n\n序号\n应用场景\n类型\n\n1\n电源冗余失效\n电源故障\n\n2\nCX4温度读取失败\n温度故障\n\n3\n框类型数据读取失败\n数据故障\n\n4\n节点数据读取失败\n数据故障\n\n5\n框工作环境数据读取失败\n数据故障\n\n6\nOS载入dog数据读取失败\n数据故障\n\n7\n硬盘分组数据读取失败\n数据故障\n\n4.17 contbin_H130L5\n\n序号\n应用场景\n类型\n\n1\n节点BMC心跳\n通信监控\n\n2\nCAN总线监控\n通信监控\n\n3\nSMM主备板通信监控\n通信监控\n\n4\n节点不在位\n硬件状态\n\n5\nRetimer加载失败\n硬件故障\n\n6\nMezz卡温度\n温度监控\n\n4.18 contbin_H5L30\n\n序号\n应用场景\n类型\n\n1\nNVMe盘预故障\n硬盘预警\n\n防抖机制说明\n命名规则\n\nMedian: 中值滤波，数字表示滤波次数\nCont: 持续防抖，数字表示持续次数\nMidAvg: 中值平均防抖\n\ns 表示有符号（signed）\nu 表示无符号（unsigned）\n数字表示平均次数\n\nContBin: 持续二值防抖\n\nH 表示高电平持续次数\nL 表示低电平持续次数\n\n适用原则\n\n温度监控：主要使用 Median 和 MidAvg 类防抖\n状态监控：主要使用 Cont 和 ContBin 类防抖\n电压监控：主要使用 MidAvg 类防抖\n故障检测：主要使用 ContBin 类防抖，根据故障严重程度选择不同的防抖参数\n\n防抖机制汇总表\n监控对象分类表\n\n监控分类\n监控对象\n推荐防抖机制\n备注\n\n温度传感器\n\nCPU温度\nmidavg_s3/s4/s6\n根据精度要求选择\n\nGPU温度\nmedian_s5, midavg_s4/s6\n高精度场景使用median\n\n硬盘温度\nmidavg_s3/s4/s6\n支持SSD/HDD\n\n进风口温度\nmidavg_s4/s6\n环境温度监控\n\n出风口温度\nmedian_s5, midavg_s6\n散热效果监控\n\n芯片温度\nmedian_s5, midavg_s6\nRetimer、1711、1880等\n\n电压监控\n\nCPU电压\nmidavg_s3, midavg_u6\n精密电压监控\n\n电源电压\nmidavg_u6\n无符号电压值\n\n背板电压\nmidavg_u6\n硬件供电监控\n\n系统电压\nmidavg_u6\nRTC、ADC等\n\n硬件状态\n\n设备在位\ncontbin_H2L2/H4L4\n快速响应\n\n卡片在位\ncontbin_H2L2/H20L3\nRiser卡、LOM卡、PCIe卡等\n\n硬盘在位\ncontbin_H2L2/H5L5\n硬盘背板、M2硬盘等\n\n电源在位\ncontbin_H4L4/H20L5\n电源模块状态\n\n通信监控\n\nI2C通信\ncont_5/contbin_H10L5~H40L5\n根据重要性调整\n\n网络通信\ncont_5/contbin_H2L1~H130L5\n网口状态、心跳监控\n\n总线通信\ncontbin_H130L5\nCAN总线、SMM通信\n\n故障检测\n\n温度故障\ncontbin_H10L5~H60L5\n温度读取失败\n\n电压故障\ncontbin_H10L5~H40L5\n电压读取失败\n\n硬件故障\ncontbin_H2L2~H130L5\n根据故障严重程度调整\n\n通信故障\ncontbin_H3L3~H130L5\n通信丢失、访问失败\n\n系统状态\n\n系统启动\ncontbin_H3L3\nBIOS启动超时\n\n系统初始化\ncontbin_H5L5\nCPU初始化异常\n\n系统功率\ncont_5\n系统功率监控\n\n时钟状态\ncont_5/contbin_H2L2~H5L5\n时钟监测和故障\n\n散热监控\n\n风扇状态\ncontbin_H2L2/H3L1/H5L1\n风扇在位、转速、故障\n\n风扇控制\ncontbin_H20L0/H20L5\n风扇转速控制\n\n散热故障\ncontbin_H3L3/H5L5\n风扇模块、电源风扇故障\n\n电源监控\n\n电源配置\ncont_20/contbin_H20L5\n电源数量、工作状态\n\n电源故障\ncontbin_H3L3/H60L5\n电源异常、冗余失效\n\n电源告警\ncontbin_H3L1/H5L5\n电压异常、备电容量\n\n电池监控\ncont_20/contbin_H2L1\n电池数量、放电状态\n\n连接监控\n\n线缆检测\ncontbin_H3L1/H4L4/H5L5/H15L15\n线缆在位、连接状态\n\n连接故障\ncontbin_H3L1/H5L5\n线缆插错、连接异常\n\n接口状态\ncontbin_H3L1\nIOM板连接器状态\n\n安全监控\n\n漏液检测\ncontbin_H3L3\n漏液检测卡管理\n\n水侵监控\ncontbin_H3L3\n水侵绳状态\n\n物理监控\ncontbin_H2L2\nU位高度监控\n\n存储监控\n\n硬盘健康\ncont_5/contbin_H20L3/H5L30\n磨损率、故障、预故障\n\n存储故障\ncont_5/contbin_H20L3\n硬盘故障状态\n\n内存监控\n\n内存状态\ncont_6/contbin_H5L5\n内存故障监控\n\n内存故障\ncontbin_H5L5\n内存故障告警\n\n版本信息\n\n版本管理\ncont_3\nPCB版本信息\n\n硬件信息\ncontbin_H3L3\n单板boardid获取\n\n防抖参数选择指南\n\n防抖类型\n响应速度\n稳定性\n适用场景\n典型参数\n\nMedian\n中等\n高\n温度等模拟量监控\nmedian_s5\n\nCont\n快\n中\n数字状态监控\ncont_3~20\n\nMidAvg\n慢\n最高\n精密测量\nmidavg_s3~6, midavg_u6\n\nContBin\n可调\n高\n二值状态监控\ncontbin_H2L2~H130L5\n\n防抖参数含义\n\n参数类型\n参数范围\n含义\n建议应用场景\n\nMedian\nmedian_s5\n中值滤波5次\n温度监控\n\nCont\ncont_3~20\n持续3~20次\n状态确认，数值越大越稳定\n\nMidAvg\nmidavg_s3~6\n有符号中值平均3~6次\n模拟量平滑\n\nMidAvg\nmidavg_u6\n无符号中值平均6次\n电压等正值监控\n\nContBin\ncontbin_H2L2\n高2次低2次\n快速响应的状态监控\n\nContBin\ncontbin_H10L5\n高10次低5次\n中等稳定性的故障检测\n\nContBin\ncontbin_H20L5\n高20次低5次\n重要故障的稳定检测\n\nContBin\ncontbin_H40L5~H130L5\n高40~130次低5次\n关键系统的长期稳定监控\n\n防抖参数选择建议\n按监控重要性分级\n\n重要性级别\n推荐防抖参数\n应用场景\n\n关键系统\ncontbin_H130L5\n节点BMC心跳、主备板通信\n\n重要硬件\ncontbin_H40L5~H60L5\n电源冗余、关键芯片温度\n\n一般监控\ncontbin_H10L5~H20L5\n温度读取、I2C通信\n\n快速响应\ncontbin_H2L2~H5L5\n设备在位、风扇状态\n\n精密测量\nmidavg_s3~6, midavg_u6\n温度、电压精确监控\n\n按故障影响分级\n\n故障影响\n防抖策略\n典型应用\n\n系统级\n长防抖（H60L5以上）\n电源冗余、系统心跳\n\n设备级\n中防抖（H20L5~H40L5）\n设备故障、通信丢失\n\n功能级\n短防抖（H10L5~H20L5）\n功能异常、性能监控\n\n状态级\n快防抖（H2L2~H5L5）\n状态变化、在位检测\nlinks: #p-4088-h-1, #p-4088-h-1-median-2, #p-4088-h-11-median_s55-3, #p-4088-h-2-cont-4, #p-4088-h-21-cont_3-5, #p-4088-h-22-cont_5-6, #p-4088-h-23-cont_6-7, #p-4088-h-24-cont_20-8, #p-4088-h-3-midavg-9, #p-4088-h-31-midavg_s33-10, #p-4088-h-32-midavg_s44-11, #p-4088-h-33-midavg_s66-12, #p-4088-h-34-midavg_u66-13, #p-4088-h-4-contbin-14, #p-4088-h-41-contbin_h2l2-15, #p-4088-h-42-contbin_h2l1-16, #p-4088-h-43-contbin_h3l3-17, #p-4088-h-44-contbin_h3l1-18, #p-4088-h-45-contbin_h4l4-19, #p-4088-h-46-contbin_h5l5-20, #p-4088-h-47-contbin_h5l1-21, #p-4088-h-48-contbin_h5l40-22, #p-4088-h-49-contbin_h10l10-23, #p-4088-h-410-contbin_h10l5-24, #p-4088-h-411-contbin_h15l15-25, #p-4088-h-412-contbin_h20l3-26, #p-4088-h-413-contbin_h20l0-27, #p-4088-h-414-contbin_h20l5-28, #p-4088-h-415-contbin_h40l5-29, #p-4088-h-416-contbin_h60l5-30, #p-4088-h-417-contbin_h130l5-31, #p-4088-h-418-contbin_h5l30-32, #p-4088-h-33, #p-4088-h-34, #p-4088-h-35, #p-4088-h-36, #p-4088-h-37, #p-4088-h-38, #p-4088-h-39, #p-4088-h-40, #p-4088-h-41, #p-4088-h-42",
    "topic_user_name": "Changxing Open Ubmc",
    "best_answer_url": "",
    "reply_posts": []
}