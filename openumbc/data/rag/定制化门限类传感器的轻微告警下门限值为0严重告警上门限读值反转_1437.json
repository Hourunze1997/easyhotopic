{
    "topic_id": 1437,
    "question": "定制化门限类传感器的轻微告警下门限值为0，严重告警上门限读值反转 - 1.我目前正在配置门限传感器的告警门限，在我配置轻微告警门限值后，在web界面中查询门限值为0，使用busctl查资源树也为0，我在定制化仓中的配置，\n“ThresholdSensor_Bcu12v1”: {\n“AssertMask”: 12933,\n“DeassertMask”: 12933,\n“ReadingMask”: 6939,\n“UpperNoncritical”: 198,\n“LowerNonCritical”: 198\n}\n原配置文件中的配置为：\n“ThresholdSensor_Bcu12v1”: {\n“AssertMask”: 516,\n“DeassertMask”: 516,\n“ReadingMask”: 4626,\n“M”: 6,\n“RBExp”: 224,\n“UpperCritical”: 220,\n“LowerCritical”: 180,\n“PositiveHysteresis”: 4,\n“NegativeHysteresis”: 4\n}\n我用bustcl查询资源树上的属性，发现LowerNonCritical为0\nbmc.kepler.Object.Properties              interface -           -                                -\n.GetAllWithContext                        method    a{ss}s      a{sv}                            -\n.GetOptions                               method    a{ss}ss     a{ss}                            -\n.GetPrivateProperties                     method    a{ss}       s                                -\n.GetPropertiesByNames                     method    a{ss}sas    a{sv}a{sv}                       -\n.GetPropertiesByOptions                   method    a{ss}sa{ss} as                               -\n.GetPropertyDetail                        method    a{ss}ss     s                                -\n.GetWithContext                           method    a{ss}ss     v                                -\n.SetWithContext                           method    a{ss}ssv    -                                -\n.ClassName                                property  s           “ThresholdSensor”                emits-change\n.ObjectIdentifier                         property  (ysss)      1 “1” “1” “010101”               emits-change\n.ObjectName                               property  s           “ThresholdSensor_Bcu12v1_010101” emits-change\nbmc.kepler.Systems.ThresholdSensor        interface -           -                                -\n.Capabilities                             property  y           232                              const\n.EntityId                                 property  y           7                                -\n.EntityInstance                           property  y           100                              -\n.LowerCritical                            property  y           180                              emits-change\n.LowerNoncritical                         property  y           0                                emits-change\n.LowerNonrecoverable                      property  y           0                                emits-change\n.NegativeHysteresis                       property  y           4                                emits-change\n.OriginalReading                          property  d           0                                -\n.OwnerLun                                 property  y           0                                emits-change\n.PositiveHysteresis                       property  y           4                                emits-change\n.Reading                                  property  y           205                              emits-change\n.ReadingMask                              property  q           6939                             const\n.ReadingStatus                            property  y           0                                -\n.SensorIdentifier                         property  s           “”                               const\n.SensorName                               property  s           “BCU1 VCC_12V0_1”                emits-change\n.SensorNumber                             property  y           86                               -\n.SensorType                               property  y           2                                const\n.UpperCritical                            property  y           220                              emits-change\n.UpperNoncritical                         property  y           198                              emits-change\n.UpperNonrecoverable                      property  y           0                                emits-change\nbmc.kepler.Systems.ThresholdSensorDisplay interface -           -                                -\n.AssertStatus                             property  q           128                              -\n.Health                                   property  s           “Minor”                          emits-change\n.LowerCriticalDisplay                     property  s           “10.800”                         -\n.LowerNoncriticalDisplay                  property  s           “0.000”                          -\n.LowerNonrecoverableDisplay               property  s           “0.000”                          -\n.NegativeHysteresisDisplay                property  s           “0.240”                          -\n.PositiveHysteresisDisplay                property  s           “0.240”                          -\n.ReadingDisplay                           property  s           “12.300”                         writable\n.Status                                   property  s           “Enabled”                        -\n.UnitDisplay                              property  s           “Volts”                          const\n.UpperCriticalDisplay                     property  s           “13.200”                         -\n.UpperNoncriticalDisplay                  property  s           “11.880”                         -\n.UpperNonrecoverableDisplay               property  s           “0.000”                          -\n麻烦问下还需要配置什么其他属性么\n2.也是在配置传感器中UpperCritical属性我定制成130后，web界面读值为-126，为什么会进行反转呢，有什么方法可以避免呢，感谢\n“ThresholdSensor_Cpu1NaDvddTemp”: {\n“AssertMask”: 640,\n“DeassertMask”: 12928,\n“ReadingMask”: 6168,\n“UpperNoncritical”: 125,\n“UpperCritical”: 130\n}",
    "topic_user_name": "Jiaoxinchao",
    "best_answer_url": "/t/topic/1437/2",
    "reply_posts": [
        {
            "user_name": "Duzhou13 51cdj",
            "topic_closed": true,
            "is_solution": true,
            "post_url": "/t/topic/1437/2",
            "text": "content: 配置了csr属性实际资源协作接口查询结果不符合预期\n这个单纯csr属性配置问题，如本问题误将LowerNoncritical配置为LowerNonCritical，以后此类问题仔细检查配置是否有问题即可\n此为温度传感器，温度是有负数值的，因此一般温度传感器都会将Unit属性的该部分配置为10b表征该传感器值为有符号数。\nimage1103×186 27.6 KB\n若有符号数，那么传感器值（包括读值和门限值）由原始值转换为最终值时都会做转换，该传感器配置的值范围应该是为-128 ~ 127，因此配置为130时，最终值为-126。\n避免方式为更新传感器的表达式参数配置（M、RBExp等），这个需要了解传感器的计算公式，详细参考IPMI标准规范的36.3章节。针对您的单点配置问题，请提供更详细的原配置，以便进行针对性的指导。\nlinks: https://discuss.openubmc.cn/uploads/default/original/2X/2/20b3990589305e561fe738f70a4fecb090a11204.png"
        },
        {
            "user_name": "Jiaoxinchao",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/1437/3",
            "text": "好的，感谢，我去跟配置这个门限值的人沟通一下"
        }
    ]
}