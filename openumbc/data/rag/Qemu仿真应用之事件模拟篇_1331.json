{
    "topic_id": 1331,
    "question": "Qemu仿真应用之事件模拟篇 - content: 根据Qemu使用指南，我们基本掌握了如何启动qemu和如何使用仿真的bmc服务。在这里，将进一步学习如何基于仿真的bmc进行事件模拟。\n注意：无论是基于docker拉起的qemu还是本地拉起的qemu，事件模拟流程都是一致的\n事件模拟\n查看传感器\nweb显示\nimage2427×804 36.1 KB\nipmi查看\nimage1297×540 12.4 KB\n查看当前事件告警\nweb显示\nimage2488×772 45.7 KB\nipmi命令查看\nipmitool.exe -H 192.168.0.198 -p 10623 -I lanplus -U Administrator -P Admin@90000 -C 17 sel list\nimage1298×1093 10.7 KB\n触发事件模拟\n在这里，我们以门限传感器BCU1 VCC_12V0_2 (V)为例，模拟事件告警：\nimage2199×614 17.9 KB\n从图中可以得知：BCU1 VCC_12V0_2传感器的温度值处于10.8-13.2间，传感器正常工作，当比10.8要低或比13.2要高时，传感器会触发事件。\n查看传感器和其所在的板卡\n1.由于传感器命名为BCU1 VCC_12V0_2，可以得知该传感器在BCU板卡\n通过北向接口可以查看BCU板卡的uid，在这里以WEB和ssh为例：\nimage2473×383 25.4 KB\nimage634×1110 21.7 KB\n在uid为00000001020302031825的BCU板卡中找到名为BCU1 VCC_12V0_2的门限传感器\nimage1591×439 16.8 KB\nThresholdSensor_Bcu12v2传感器的Reading值来源表达式：“<=/Scanner_12v2.Value;<=/Scanner_PowerGood.Value |> expr(($2 == 0) ? 204 : (($1 / 12) > 255 ? 204 : ($1 / 12))) |> expr($1 == 0 ? 204 : $1)”\n我们可以先在环境上查看这两个Scanner的值：\nimage380×445 6.53 KB\nimage370×448 6.74 KB\n根据表达式：因为Scanner_PowerGood.Value为1，采用Scanner_12v2.Value进行计算\n\nimage2325×728 45.8 KB\n至此，就可以完成模拟事件触发和关闭了\nlinks: https://discuss.openubmc.cn/t/topic/636, #p-3015-h-1, #p-3015-h-2, #p-3015-web-3, https://discuss.openubmc.cn/uploads/default/original/2X/2/2aa00028e095f8ec2df6453300d6ca30b51bd74e.png, #p-3015-ipmi-4, https://discuss.openubmc.cn/uploads/default/original/2X/c/c32bd325d2b5c3f946fad4769747180a20a36183.png, #p-3015-h-5, #p-3015-web-6, https://discuss.openubmc.cn/uploads/default/original/2X/6/638aaddd43af0c90fae551ecf566916d5f65e84d.png, #p-3015-ipmi-7, https://discuss.openubmc.cn/uploads/default/original/2X/0/0b4326c1dca830609615fb32ff78f472d11536aa.png, #p-3015-h-8, https://discuss.openubmc.cn/uploads/default/original/2X/7/77871ea5e2bb33e1830dd7e944fe5858ab96309b.png, #p-3015-h-9, https://discuss.openubmc.cn/uploads/default/original/2X/7/7151f0c36bb76b14533e9498cd2c2939048d262b.png, https://discuss.openubmc.cn/uploads/default/original/2X/7/77cc2a678d333453cab9f11d8517bba8836b8b48.png, https://discuss.openubmc.cn/uploads/default/original/2X/1/149ee4bcdc952e9ff57a12dd4c504a9f9f8b45ed.png, https://discuss.openubmc.cn/uploads/default/original/2X/4/4de77ceef7a447e4e94581f13ac7c441c76c3b45.png, https://discuss.openubmc.cn/uploads/default/original/2X/2/2fd1f6c246b1afbc68a0e7a7e41d726feb2f3ccf.png, https://discuss.openubmc.cn/uploads/default/original/2X/c/c465971d79983ea6478dbe43cdd5fbf4998abd02.png",
    "topic_user_name": "Linwanmin",
    "best_answer_url": "",
    "reply_posts": []
}