{
    "topic_id": 1384,
    "question": "调速配置指导说明文档 - content: 一、设计原则\n1.调速对象关系图\n CoolingArea用来关联温度点（RequirementIdx）、参与调速的风扇(FanIndxGroup)和调速策略(PolicyIdxGroup)，CoolingArea与CoolingRequirement应该一一对应；CoolingArea只能配置到PSR中（区分单电源和双电源）；CoolingRequirement一般跟随单板所在的SR配置。\nimage1122×472 31.4 KB\n2.约束\n\nCoolingRequirement中的属性RequirementId\"必须全局唯一，当前id支持有效16位，前8位baseid，后8位槽位号，对于唯一性器件，RequirementId可以配置为U8数（不支持配置成同步其他组件的属性）；\nCoolingConfig类的InitLevelInStartup属性限制最小值为0，最大值为100，默认为100；\nCoolingConfig类的FanBoardNum属性为含有调速风扇的风扇板个数，多风扇板机型需要配置，不配置时默认值为1；\n一个CoolingPolicy对象代表一条环温曲线，每个温度点可能关联0个或多个CoolingPolicy对象，取计算出来的转速最大值下发，删除CoolingPolicy需要在对应CoolingArea的PolicyIdxGroup里面删除对应的PolicyIdx；\n线性调速策略温度区间为左闭右开；\nActualCondVal与ExpCondVal相等，若配置了PCIeCardName、HDDBackPlaneName、FanType多个条件，需每个条件都满足，该Policy才生效；即环境上插入了PCIeCardName中的网卡之一（若配置了PCIeCardName），环境上加载了HDDBackPlaneName中的硬盘背板之一（若配置了HDDBackPlaneName），环境的风扇类型包含FanType中的类型之一（若配置了FanType）；\n调速区域CoolingArea关联的风扇Id列表FanIdxGroup中，风扇Id必须整体按数字由小到大顺序配置。\n\n二、类与属性配置\n1、CoolingConfig类配置\n1.1 CoolingConfig定义\n CoolingConfig用于承载cooling模块全局配置，包含风扇转速设置范围、BMC启动初始转速等。\n1.2 CoolingConfig属性说明\n\n属性\n类型\n取值范围\n说明\n\nSmartCoolingState\nString\n“Enabled”“Disabled”\n智能调速使能状态，“Enabled”表示使能，“Disabled”表示不使能\n\nSmartCoolingMode\nString\n“EnergySaving”“LowNoise”“HighPerformance”“Custom”“LiquidCooling”\n智能调速模式，未配置时默认为\"EnergySaving\"\n\nLevelPercentRange\nU8[]\nU8[]\n手动设置转速级别（百分比）允许的范围\n\nInitLevelInStartup\nU8\n[0,100]\n初始转速百分比（BMC复位过程到pid接管前下发转速），默认值为100，限制最小值为0，最大值为100\n\nFanBoardNum\nU8\n[0,255]\n含有调速风扇的风扇板个数（多风扇板机型需要配置，默认值为1）\n\n2、CoolingRequirement类配置\n2.1 CoolingRequirement定义\n 一个温度点对应一个CoolingRequirment对象，用于关联硬件温度和配置目标调速策略。\n2.2 CoolingRequirement属性说明\n\n属性\n类型\n取值范围\n说明\n\nRequirementId\nU64\nU64\n目标调速策略Id,id必须全局唯一，当前id支持有效16位，前8位baseid，后8位槽位号，对于唯一性器件，RequirementId可以配置为U8数（不支持配置成同步其他组件的属性）\n\nTemperatureType\nU32\nU32\n温度点类型（具体查看下面表格中目标调速类型定义），默认值为4294967295，TemperatureType与目标温度调速类型对照如下：1 Cpu2 Outlet3 Disk4 Memory5 PCH6 VRD7 VDDQ8 NPUHb9 NPUAiCore10 NPUBoard11 Inlet12 SoCBoardOutlet13 SoCBoardInlet4294967295 InvalidType\n\nMonitoringStatus\nU8\nU8\n温度点状态，用于异常调速，0正常，1异常\n\nMonitoringValue\nDouble\nDouble\n温度点值，关联硬件（注：不允许关联传感器Reading值）\n\nFailedValue\nU64\nU64\n温度点状态异常时，如果配置了该值，则触发异常调速，将风扇转速百分比设为FailedValue,不配代表温度点异常不触发异常调速\n\nBackupRequirementIdx\nU64\nU64\n备用温度点索引\n\nTargetTemperatureCelsius\nU8\nU8\n当前调速目标值，默认配置EnergySaving模式的目标值\n\nSmartCoolingTargetTemperature\nS16[]\nS16[]\n依次存放节能、高性能、低噪三种模式下的目标值温度，不需要区分的话不配即可\n\nMaxAllowedTemperatureCelsius\nU8\nU8\n目标调速触发满转的温度\n\nCustomSupported\nBoolean\ntrue/false\n是否支持自定义调速曲线，true：支持，false：不支持\n\nCustomTargetTemperatureCelsius\nU8\nU8\n用户自定义温度值,自定义模式使用该值作为目标温度值进行调速\n\nTargetTemperatureRangeCelsius\nU8[]\nU8[]\n自定义目标温度值允许范围\n\nEnabled\nString\ntrue/false\n用户自定义温度点生效条件,true有效,false无效\n\nSensorName\nString\nString\n目标调速策略关联的传感器名称\n\n3、CoolingPolicy类配置\n3.1 CoolingPolicy定义\n CoolingPolicy为先行调速策略对象，一个CoolingPolicy对象代表一条环温曲线，每个温度点可能关联0个或多个CoolingPolicy对象，取计算出来的转速最大值下发，删除CoolingPolicy需要在对应CoolingArea的PolicyIdxGroup里面删除对应的PolicyIdx。\n3.2 CoolingPolicy属性说明\n\n属性\n类型\n取值范围\n说明\n\nPolicyIdx\nU64\nU64\n线性调速策略Id,PolicyIdx必须全局唯一\n\nPolicyType\nU32\n1 InletCustom2 DiskCustom4294967295 InvalidType\n环温调速类型，仅支持自定义的曲线可配置\n\nExpCondVal\nString\n“EnergySaving”“LowNoise”“HighPerformance”“Custom”“LiquidCooling”\n预期生效条件，CoolingPolicy生效前提是实际条件与期望条件一致\n\nActualCondVal\nString\n“EnergySaving”“LowNoise”“HighPerformance”“Custom”“LiquidCooling”\n实际生效条件\n\nHysteresis\nU8\nU8\n迟滞量，当前温度小于等于全速值（MaxAllowedTemperatureCelsius）减迟滞量时，退出满转\n\nTemperatureRangeLow\nS16[]\nS16[]\n线性调速策略温度区间左值\n\nTemperatureRangeHigh\nS16[]\nS16[]\n线性调速策略温度区间右值\n\nSpeedRangeLow\nS16[]\nS16[]\n线性调速策略转速区间左值\n\nSpeedRangeHigh\nS16[]\nS16[]\n线性调速策略转速区间右值\n\nFanSpeedRangePercents\nU8[]\nU8[]\n自定义调速曲线风扇转速允许范围\n\nPCIeCardName\nString[]\nString[]\n关联的PCIe卡名称该列表中，环境插入了该列表中网卡之一时，网卡条件生效\n\nHDDBackPlaneName\nString[]\nString[]\n硬板背板名称列表，环境有该列表中背板之一时，背板条件生效\n\nFanType\nString[]\nString[]\n风扇类型列表，环境含有该列表中风扇类型之一时，风扇条件生效\n\n4、 CoolingArea类配置\n4.1 CoolingArea定义\n CoolingArea主要用于将CoolingRequirement、CoolingPolicy、CoolingFan（风扇对象）对象关联起来，该配置描述了一个温度点调速需要哪几个风扇参与，也描述了温度点关联哪些环温调速曲线。建议如果新增了CoolingRequirement，则增加对象的CoolingArea，若CoolingArea不参与调速，则PolicyIdxGroup和LiquidCoolingDeviceGroup默认配置为空即可。这样配置的好处是：1、显式的占据了一个器件位置；2、下发目标转速的时候会检测是否存在CoolingArea，如果不存在会报错（例如，借用温度点，业务代码无法知道是漏配置还是未分发），CoolingArea必须配置在PSR。\n4.2 CoolingArea属性说明\n\n属性\n类型\n取值范围\n说明\n\nAreaId\nU8\nU8\n调速区域Id，AreaId必须全局唯一\n\nRequirementIdx\nU64\nU64\n调速区域关联的目标调速策略Id，与U8的RequirementId一致或者U16的BaseId一致\n\nPolicyIdxGroup\nU64[]\nU64[]\n调速区域关联的环温调速索引\n\nFanIdxGroup\nU8[]\nU8[]\n调速区域关联的风扇Id（CoolingFan.FanId）集合，表示参与该区域调速的风扇Id\n\nPriority\nU8\nU8\n调速区域对象优先级，默认为1，数值越小优先级越高，AreaId重复的对象以优先级高的进行调速\n\nLiquidCoolingDeviceGroup\nU8[]\nU8[]\n调速区域关联的液冷设备Id列表\n\n5、AbnormalFan 类配置\n5.1 AbnormalFan定义\n AbnormalFan为异常调速风扇对象。\n5.2 AbnormalFan属性说明\n\n属性\n类型\n取值范围\n说明\n\nId\nU32\nU32\n异常调速风扇的Id，Id必须全局唯一\n\nFanIdx\nU32\nU32\n关联的CoolingFan的索引\n\nStatus\nString\n“AbnormalRotation\"“NotInPosition”\n风扇异常状态，“AbnormalRotation\"：转速异常，“NotInPosition”：不在位\n\nFanGroup\nU32[]\nU32[]\n触发异常后，参与异常转速调速的风扇Id\n\nPriority\nU8\nU8\n对象优先级，默认为1，数值越小优先级越高\n\n三、调速配置实例\n1、目标调速\n\n举例：出风口目标调速配置\n\nSmartCooling调速模式\n目标值\n对应风扇序号\n触发全速门限\n高温告警门限\n温度规格\n调速迟滞量\n告警迟滞量\n传感器失效异常调速\n\nSmartCooling-节能模式（默认）\n50Fan6075//280%\n\nSmartCooling-高性能模式\n47\n\nSmartCooling-低噪模式\n53\n\n\"CoolingRequirement_1_7\": {\n    \"RequirementId\": 7,\n    \"TemperatureType\": 2,//目标调速温度类型为出风口\n    \"MonitoringStatus\": \"<=/Scanner_Lm75_Outlet.Status\",//同步Scanner_Lm75_Outlet的状态\n    \"MonitoringValue\": \"<=/Scanner_Lm75_Outlet.Value\",//同步Scanner_Lm75_Outlet的值\n    \"FailedValue\": 80,//温度状态异常后的异常调速转速为80%\n    \"TargetTemperatureCelsius\": 45,//目标温度为45摄氏度\n    \"MaxAllowedTemperatureCelsius\": 60,//温度大于等于60摄氏度时触发满转\n    \"TargetTemperatureRangeCelsius\": [//自定义目标温度值允许的范围为45~60摄氏度\n        45,\n        60\n    ],\n    \"SmartCoolingTargetTemperature\": [//节能、高性能、低噪三种模式下的目标值温度分别为50、47、53\n        50,\n        47,\n        53\n    ],\n    \"CustomSupported\": true,//支持自定义调速曲线\n    \"CustomTargetTemperatureCelsius\": 52,//自定义目标调速温度值为52摄氏度\n    \"SensorName\": \"#/ThresholdSensor_OutletTemp.SensorName\"\n},\n\"CoolingArea_1_7\": {\n    \"AreaId\": 7,\n    \"RequirementIdx\": 7,//关联的温度点为RequirementId为7\n    \"PolicyIdxGroup\": [],\n    \"FanIdxGroup\": [//调速区域7调速的关联的风扇Id为1、2、3、4\n        1,\n        2,\n        3,\n        4\n    ]\n}\n\n2、环温调速\n\n举例：入风口目标调速配置（CoolingRequirement_1_8作为CoolingRequirement_1_6的备份温度点）\n\n环境温度（Ta）调速区间和风扇转速的对应表：\n\n环境温度范围\nTa<=20\nTa=21\nTa=22\nTa=22\nTa=23\nTa=24\nTa=25\nTa=26\nTa=27\nTa=28\nTa=29\nTa=30\nTa=31\nTa=32\nTa=33\nTa=34\nTa=35\nTa=36\nTa=37\nTa=38\nTa=39\nTa=40\nTa=41\nTa=42\nTa=43\nTa=44\nTa>=45\n\n风扇转速\n30%\n30%\n30%\n30%\n30%\n30%\n34%\n38%\n42%\n46%\n50%\n55%\n60%\n65%\n70%\n75%\n80%\n85%\n90%\n95%\n100%\n100%\n100%\n100%\n100%\n100%\n100%\n\n风扇转速\n40%\n40%\n40%\n40%\n40%\n42%\n45%\n50%\n55%\n60%\n65%\n70%\n75%\n80%\n85%\n90%\n95%\n100%\n100%\n100%\n100%\n100%\n100%\n100%\n100%\n100%\n100%\n\n该例中，AreaId为6的调速区域CoolingArea_1_6关联的温度点为CoolingRequirement_1_6，关联的调速策略为CoolingPolicy_1_6、CoolingPolicy_1_7，CoolingPolicy中配置了环温调速曲线，参与CoolingArea_1_6调速的风扇Id 为1~4。\n\"CoolingConfig_1\": {\n    \"SmartCoolingState\": \"Enabled\",//智能调速状态使能\n    \"SmartCoolingMode\": \"EnergySaving\",//智能调速模式为节能模式\n    \"LevelPercentRange\": [//手动设置转速级别允许的范围为10%~100%\n        10,\n        100\n    ],\n    \"InitLevelInStartup\": 100,//初始转速为100%\n    \"DiskRowTemperatureAvailable\": false\n},\n\n\"CoolingRequirement_1_6\": {\n    \"RequirementId\": 6,\n    \"TemperatureType\": 11,//温度类型为入风口\n    \"MonitoringStatus\": \"<=/Scanner_Lm75_Inlet.Status\",\n    \"MonitoringValue\": \"<=/Scanner_Lm75_Inlet.Value\",\n    \"FailedValue\": 80,\n    \"BackupRequirementIdx\": 8,//该温度点的备用温度点Id为8\n    \"SensorName\": \"#/ThresholdSensor_InletTemp.SensorName\"//该温度点关联的传感器名称\n},\n\"CoolingArea_1_6\": {\n    \"AreaId\": 6,\n    \"RequirementIdx\": 6,//该调速区域关联的温度点（CoolingRequirement）Id为6\n    \"PolicyIdxGroup\": [6, 7],//该调速区域关联的调速策略（CoolingPolicy）Id为6、7\n    \"FanIdxGroup\": [//该调速区域关联的风扇Id为1、2、3、4\n        1,\n        2,\n        3,\n        4\n    ]\n}\n\n\"CoolingPolicy_1_6\": {\n    \"PolicyIdx\": 6,\n    \"ExpCondVal\": \"EnergySaving\",//调速策略预期生效的条件为节能模式\n    \"ActualCondVal\": \"<=/CoolingConfig_1.SmartCoolingMode\",//实际的模式\n    \"Hysteresis\": 1,//迟滞量为1\n    \"TemperatureRangeLow\": [//线性调速策略温度区间左值\n        -127, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36,  37, 38, 39, 40, 41, 42, 43,  44, 45\n    ],\n    \"TemperatureRangeHigh\": [//线性调速策略温度区间右值\n        20,  21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 127\n    ],\n    \"SpeedRangeLow\": [//线性调速策略转速区间左值\n        30, 30, 30, 30, 30, 30, 30, 34, 38, 42, 46, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 100, 100, 100, 100, 100\n    ],\n    \"SpeedRangeHigh\": [//线性调速策略转速区间右值\n        30, 30, 30, 30, 30, 30, 30, 34, 38, 42, 46, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 100, 100, 100, 100, 100\n    ]\n}\n\n\"CoolingPolicy_1_7\": {\n    \"PolicyIdx\": 7,\n    \"ExpCondVal\": \"HighPerformance\",//调速策略预期生效的条件为高性能模式\n    \"ActualCondVal\": \"<=/CoolingConfig_1.SmartCoolingMode\",//实际的模式\n    \"Hysteresis\": 1,\n    \"TemperatureRangeLow\": [//线性调速策略温度区间左值\n        -127,  20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45\n    ],\n    \"TemperatureRangeHigh\": [//线性调速策略温度区间右值\n        20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 127\n    ],\n    \"SpeedRangeLow\": [//线性调速策略转速区间左值\n        40, 40, 40, 40, 40, 40, 42, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 100, 100, 100, 100, 100, 100, 100, 100\n    ],\n    \"SpeedRangeHigh\": [//线性调速策略转速区间右值\n        40, 40, 40, 40, 40, 40, 42, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 100, 100, 100, 100, 100, 100, 100, 100\n    ]\n}\n\n 以上配置中，TemperatureRangeLow、TemperatureRangeHigh、SpeedRangeLow、SpeedRangeHigh中的第i个值，可以理解为：当温度大于等于TemperatureRangeLow[i]并且小于TemperatureRangeHigh[i]时，风扇的转速百分比大于等于SpeedRangeLow[i]、小于等于SpeedRangeHigh[i]，例如\n温度区间[-127, 20)，风扇的speed范围为[30, 30]；温度区间[20, 21)，风扇的speed范围为[30, 30]。\n3、 异常调速\n 触发异常调速的场景包括温度点获取异常和风扇异常。温度点获取异常的场景可参考本章“1.目标调速”中“出风口目标调速配置”：CoolingRequirement_1_7.MonitoringStatus变为0时，风扇不小于FailedValue的值。\n//（1）风扇1转速异常后触发异常调速，风扇1、2转速不低于80%（SpeedPercentage默认为8）\n\"AbnormalFan_1\": {\n    \"Id\": 1,\n    \"FanIdx\": 1,//关联的异常风扇Id为1\n    \"Status\": \"AbnormalRotation\",//当风扇1的异常状态为转速异常时，触发该异常调速\n    \"FanGroup\": [1, 2]//参与异常调速的风扇Id为1、2，它们的转速被拉至80%\n}\n\n//（2）风扇2不在位后触发异常调速，风扇1、2转速不低于100%\n\"AbnormalFan_2\": {\n    \"Id\": 2,\n    \"FanIdx\": 1,//关联的异常风扇Id为2\n    \"Status\": \"NotInPosition\",//当风扇2的异常状态为不在位时，触发该异常调速\n    \"FanGroup\": [1, 2],//参与异常调速的风扇Id为1、2，它们的转速被拉至100%\n    \"SpeedPercentage\": 100//触发该异常调速后，FanGroup关联的风扇1、2转速被拉至100%\n}\n\n4、温度点备份调速\n 这个例子中，配置温度点8（备用温度点）为温度点6（主温度点）的备份温度点，主温度点6获取失败时，采用备份温度点8的温度值作为调速温度值。\n 备用温度点CoolingRequirement_1_8的RequirementId为8，需要将主温度点CoolingRequirement_1_6的BackupRequirementIdx配为8，并且将CoolingRequirement_1_8的IsBackupRequirement配为true：\n\"CoolingRequirement_1_8\": {//备用温度点\n    \"RequirementId\": 8,\n    \"MonitoringStatus\": \"<=/Scanner_FanBrdTemp.Status\",\n    \"MonitoringValue\": \"<=/Scanner_FanBrdTemp.Value\",\n    \"IsBackupRequirement\": true,\n    \"SensorName\": \"#/ThresholdSensor_FanBoardTemp.SensorName\"\n},\n\"CoolingArea_1_8\": {\n    \"AreaId\": 8,\n    \"RequirementIdx\": 8,//该调速区域关联温度点8\n    \"PolicyIdxGroup\": [],\n    \"FanIdxGroup\":[]\n}\n\n\"CoolingRequirement_1_6\": {//主用温度点\n    \"RequirementId\": 6,\n    \"TemperatureType\": 11,//温度类型为进风口\n    \"MonitoringStatus\": \"<=/Scanner_Lm75_Inlet.Status\",\n    \"MonitoringValue\": \"<=/Scanner_Lm75_Inlet.Value\",\n    \"FailedValue\": 80,//温度点失效时触发异常调速，将风扇转速拉至80%\n    \"BackupRequirementIdx\": 8,//在这里配置温度点8为温度点6的备用温度点\n    \"SensorName\": \"#/ThresholdSensor_InletTemp.SensorName\"\n},\n\"CoolingArea_1_6\": {\n    \"AreaId\": 6,\n    \"RequirementIdx\": 6,//该调速区域关联温度点6\n    \"PolicyIdxGroup\": [],\n    \"FanIdxGroup\": [//该调速区域参与调速的风扇Id为1、2、3、4\n        1,\n        2,\n        3,\n        4\n    ]\n}\n\n风扇组间转速差：\n//以下配置中，风扇组FanGroup_1、FanGroup_2、FanGroup_3的最大转速差不超过20%，下发给psu的风扇转速为风扇组FanGroup_1、FanGroup_2、FanGroup_3的最大值加5%\n\"BasicCoolingConfig\": {\n    \"FanGroupSpeedDiffThresholdPercent\": 20, //风扇组转速差阈值百分比，默认值表示不进行转速差计算\n    \"PsuFanSpeedCalibration\": 5 //psu风扇转速值校准，默认值表示不进行psu转速下发\n},\n\"FanGroup_1\": {\n    \"Id\": 1,\n    \"FanSlots\": [1, 2, 3, 4, 5]//风扇组1关联的风扇Id为1~5\n}\n\"FanGroup_2\": {\n    \"Id\": 2,\n    \"FanSlots\": [6, 7, 8, 9, 10]//风扇组2关联的风扇Id为6~10\n}\n\"FanGroup_3\": {\n    \"Id\": 3,\n    \"FanSlots\": [11, 12, 13, 14, 15]//风扇组3关联的风扇Id为11~15\n}\n\n5、带光模块卡的调速\n光模块温度状态正常时，生效CoolingRequirement_1_55和CoolingRequirement_1_56；\n光模块温度异常时，CoolingRequirement_1_56无FailedValue，不触发异常调速，此时生效CoolingRequirement_1_155。\n\"CoolingRequirement_1_55\": {\n\t\"RequirementId\": \"${Slot} |> expr((55 << 8) | $1)\",//RequirementId根据槽位号进行偏移\n\t\"Description\": \"XXX卡温度调速\", \n\t\"MonitoringStatus\": \"<=/Retimer_XX_Obj_0.TemperatureCelsius |> expr($1 >= 255 ? 1 : 0)\",\n\t\"MonitoringValue\": \"<=/Retimer_XX_Obj_0.TemperatureCelsius\",\n\t\"FailedValue\": 80,//温度点状态异常时，触发异常调速，将风扇转速拉至80%\n\t\"TargetTemperatureCelsius\": 90,\n\t\"MaxAllowedTemperatureCelsius\": 100,\n\t\"TargetTemperatureRangeCelsius\": [],\n\t\"ThresholdValue\": [],\n\t\"AlarmSpeed\": [],\n\t\"SmartCoolingTargetTemperature\": [],\n\t\"CustomSupported\": false,\n\t\"CustomTargetTemperatureCelsius\": 255,\n\t\"Enabled\": \"<=/CoolingRequirement_1_56.MonitoringStatus |> expr($1 == 0 ? true : false)\",\n\t\"SensorName\": \"#/ThresholdSensor_XX.SensorName\"\n},\n\"CoolingRequirement_1_155\": {\n\t\"RequirementId\": \"${Slot} |> expr((155 << 8) | $1)\",\n\t\"Description\": \"XXX卡温度（光模块异常）调速\",\n\t\"MonitoringStatus\": \"<=/Retimer_XX_Obj_0.TemperatureCelsius |> expr($1 >= 255 ? 1 : 0)\",\n\t\"MonitoringValue\": \"<=/Retimer_XX_Obj_0.TemperatureCelsius\",\n\t\"TargetTemperatureCelsius\": 80,\n\t\"MaxAllowedTemperatureCelsius\": 100,\n\t\"TargetTemperatureRangeCelsius\": [],\n\t\"ThresholdValue\": [],\n\t\"AlarmSpeed\": [],\n\t\"SmartCoolingTargetTemperature\": [],\n\t\"CustomSupported\": false,\n\t\"CustomTargetTemperatureCelsius\": 255,\n\t\"Enabled\": \"<=/CoolingRequirement_1_56.MonitoringStatus |> expr($1 ~= 0 ? true : false)\",\n\t\"SensorName\": \"#/ThresholdSensor_XX.SensorName\"\n},\n\"CoolingRequirement_1_56\": {//未配置FailedValue，该温度点状态异常时，不触发异常调速\n\t\"RequirementId\": \"${Slot} |> expr((56 << 8) | $1)\",\n\t\"Description\": \"XXX卡光模块温度调速\",\n\t\"MonitoringStatus\": \"<=/OpticalModule_1.TemperatureCelsius |> expr(($1 == 16384) ? 0 : ($1 >= 255 ? 1 : 0))\",\n\t\"MonitoringValue\": \"<=/OpticalModule_1.TemperatureCelsius\",\n\t\"TargetTemperatureCelsius\": 62,\n\t\"MaxAllowedTemperatureCelsius\": 68,\n\t\"TargetTemperatureRangeCelsius\": [],\n\t\"ThresholdValue\": [],\n\t\"AlarmSpeed\": [],\n\t\"SmartCoolingTargetTemperature\": [],\n\t\"CustomSupported\": false,\n\t\"CustomTargetTemperatureCelsius\": 255\n}\t \n\n6、 多nic卡，多硬盘调速配置\n\"CoolingRequirement_1_61\": {\n\t\"RequirementId\": \"${Slot} |> expr((61 << 8) | $1)\",//RequirementId需要根据槽位号进行偏移\n\t\"MonitoringStatus\": \"<=/Scanner_XX.Value |> expr($1 >= 255 ? 1 : 0)\",\n\t\"MonitoringValue\": \"<=/Scanner_XX.Value\",\n\t\"FailedValue\": 80,\n\t\"TargetTemperatureCelsius\": 44,\n\t\"MaxAllowedTemperatureCelsius\": 58,\n\t\"TargetTemperatureRangeCelsius\": [],\n\t\"ThresholdValue\": [],\n\t\"AlarmSpeed\": [],\n\t\"Enabled\": \"<=/Drive_1.TemperatureCelsius;<=/Drive_2.TemperatureCelsius |> expr($1 + $2 >= 510 ? 1 : 0)\",\n\t\"SensorName\": \"#/ThresholdSensor_XX.SensorName\"\n},\n\"CoolingArea_1_61\": {\n\t\"AreaId\": 61,\n\t\"RequirementIdx\": 61,\n\t\"PolicyIdxGroup\": [],\n\t\"FanIdxGroup\": [\n\t    1,\n\t    2,\n\t    3,\n\t    4\n\t]\n}\n\n7、 standby调速配置\nstandby调速，配置ActiveInStandby属性为True\n\"CoolingRequirement_1_2\": {\n\t\"RequirementId\": 2,\n\t\"Description\": \"xxx\",\n\t\"MonitoringStatus\": \"<=/DPUCard_1.Inlet1TemperatureCelsius |> expr(($1 == 32767) ? 1 : 0)\",\n\t\"MonitoringValue\": \"<=/DPUCard_1.Inlet1TemperatureCelsius |> expr(($1 == 0 || $1 > 200) ? 40 : ($1 & 255))\",\n\t\"FailedValue\": 80,\n\t\"TargetTemperatureCelsius\": 55,\n\t\"MaxAllowedTemperatureCelsius\": 65,\n\t\"ActiveInStandby\": true,//ActiveInStandby配置为true表示支持standby调速时\n\t\"SensorName\": \"#/ThresholdSensor_XX.SensorName\"\n},\n\"CoolingArea_1_2\": {\n\t\"AreaId\": 2,\n\t\"RequirementIdx\": 2,\n\t\"PolicyIdxGroup\": [],\n\t\"FanIdxGroup\": [\n\t    1,\n\t    2,\n\t    3,\n\t    4\n\t]\n}\n\n8、 带泵机型仅有泵环温曲线调速配置\n\"CoolingRequirement_Pump_80\": {\n    \"RequirementId\": 80,\n    \"MonitoringStatus\": \"<=/Scanner_Lm75_Inlet.Status\",\n    \"MonitoringValue\": \"<=/Scanner_Lm75_Inlet.Value\",\n    \"TargetTemperatureCelsius\": 80, //一个极大值，进风口温度无法达到的值，使得目标调速计算的转速为最低\n    \"MaxAllowedTemperatureCelsius\": 100, //温度到达100摄氏度后会触发风扇满转\n    \"FailedValue\": 100,\n    \"CoolingMedium\": \"Liquid\"//调速中介为液冷\n},\n\"CoolingArea_Pump_1_80\": {\n    \"AreaId\": 80,\n    \"RequirementIdx\": 80,\n    \"PolicyIdxGroup\": [80],\n    \"LiquidCoolingDeviceGroup\": [//该调速区域关联的泵Id为1、2\n        1,\n        2\n    ]\n},\n\"CoolingPolicy_Pump_1_80\": {\n    \"PolicyIdx\": 80,\n    \"CoolingMedium\": \"Liquid\",//调速中介为液冷\n    \"TemperatureRangeLow\": [-127, 30],\n    \"TemperatureRangeHigh\": [30, 127],\n    \"SpeedRangeLow\": [50, 100],\n    \"SpeedRangeHigh\": [50, 100]\n}\nlinks: #p-3219-h-1, #p-3219-h-1-2, https://discuss.openubmc.cn/uploads/default/original/2X/e/e0d7850213968013c234507a4265dc91a0dcca1b.png, #p-3219-h-2-3, #p-3219-h-4, #p-3219-h-1coolingconfig-5, #p-3219-h-11-coolingconfig-6, #p-3219-h-12-coolingconfig-7, #p-3219-h-2coolingrequirement-8, #p-3219-h-21-coolingrequirement-9, #p-3219-h-22-coolingrequirement-10, #p-3219-h-3coolingpolicy-11, #p-3219-h-31-coolingpolicy-12, #p-3219-h-32-coolingpolicy-13, #p-3219-h-4-coolingarea-14, #p-3219-h-41-coolingarea-15, #p-3219-h-42-coolingarea-16, #p-3219-h-5abnormalfan-17, #p-3219-h-51-abnormalfan-18, #p-3219-h-52-abnormalfan-19, #p-3219-h-20, #p-3219-h-1-21, #p-3219-h-2-22, #p-3219-ta-23, #p-3219-h-3-24, #p-3219-h-4-25, #p-3219-h-5-26, #p-3219-h-6-nic-27, #p-3219-h-7-standby-28, #p-3219-h-8-29",
    "topic_user_name": "Luchen",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "discobot",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/1384/2",
            "text": "content: 你好！这个连接的信息可能对你解决本问题有所帮助，请参考，谢谢！\nlinks: https://discuss.openubmc.cn//t/topic/863/1"
        },
        {
            "user_name": "discobot",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/1384/3",
            "text": "content: 你好！这个连接的信息可能对你解决本问题有所帮助，请参考，谢谢！\nlinks: https://discuss.openubmc.cn//t/topic/863/1"
        }
    ]
}