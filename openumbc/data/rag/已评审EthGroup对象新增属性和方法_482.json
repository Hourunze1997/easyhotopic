{
    "topic_id": 482,
    "question": "【已评审】EthGroup对象新增属性和方法 - content: 关联issue\nEthGroup对象新增属性和方法\n评审背景\n背景\nBMC后续规划需要支持框式设备形态的硬件管理，在框式设备中在网络管理方面，需要支持以下功能：\n\n多个管理网络平面，每个平面均有外出管理网口\n多个外出管理网口，每个网口均需要支持IPv4/IPv6以及Vlan\n管理网口上配置浮动IP，并且支持使能和去使能\n\n现状分析\n当前BMC的网口管理中只能管理一个网口对象，也就是仅支持一个外出网口，\n方案\n扩展资源协作接口 EthGroup 类的属性和方法，后续新增网口通过配置 EthGroup 类的实例化对象来进行扩展。\n评审点\n基于以上方案，EthGroup 类的属性和方法需要具备外出网口的所有管理能力，因此需要增加以下接口（包括属性和方法）：\nEthGroup下新增下列属性：\npath： /bmc/kepler/Managers/${ManagerId}/EthernetInterfaces/EthGroup/${Id}\ninterface： bmc.kepler.Managers.EthernetInterfaces.EthGroup\n新增属性1：IpMode\n\n项\n取值\n\n属性名称\nIpMode\n\n属性类型\nstring\n\n读写方式\nrw\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\nIP地址来源模式，取值有：DHCP（自动获取），Static（手动配置）\n\n新增属性2：BackupIpAddr\n\n项\n取值\n\n属性名称\nBackupIpAddr\n\n属性类型\nstring\n\n读写方式\nrw\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\n备份IP地址\n\n新增属性3：BackupSubnetMask\n\n项\n取值\n\n属性名称\nBackupSubnetMask\n\n属性类型\nstring\n\n读写方式\nrw\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\n备份子网掩码\n\n新增属性4：DefaultGateway\n\n项\n取值\n\n属性名称\nDefaultGateway\n\n属性类型\nstring\n\n读写方式\nro\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\n默认网关\n\n新增属性5：Ipv6Mode\n\n项\n取值\n\n属性名称\nIpv6Mode\n\n属性类型\nstring\n\n读写方式\nrw\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\nIPv6地址来源模式，取值有：DHCPv6（自动获取），Static（手动配置）\n\n新增属性6：Ipv6Addr\n\n项\n取值\n\n属性名称\nIpv6Addr\n\n属性类型\nstring\n\n读写方式\nro\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\nIPv6地址\n\n新增属性7：PrefixLength\n\n项\n取值\n\n属性名称\nPrefixLength\n\n属性类型\nstring\n\n读写方式\nro\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\nIPv6前缀长度\n\n新增属性8：  Ipv6DefaultGateway\n\n项\n取值\n\n属性名称\nIpv6DefaultGateway\n\n属性类型\nstring\n\n读写方式\nro\n\n是否持久化\n掉电持久化\n\n属性值来源\nCSR配置\n\n属性说明\nIPv6默认网关\n\n新增方法1：\n\n项\n取值\n\n方法名称\nSetDefaultGateway\n\n请求签名\ns\n\n请求参数\nDefaultGateway\t：设置的IPv4默认网关\n\n响应签名\n\n响应参数\n\n接口说明\n设置网口的IPv4默认网关码\n\n新增方法2：\n\n项\n取值\n\n方法名称\nSetIpMaskGateway\n\n请求签名\nsss\n\n请求参数\nIpAddr：设置的IPv4地址SubnetMask：设置的子网掩码\tDefaultGateway\t：设置的IPv4默认网关\n\n响应签名\ns\n\n响应参数\nIpAddr\t：设置后的ipv4地址\n\n接口说明\n设置网口的IPv4地址和子网掩码以及默认网关\n\n新增方法3：\n\n项\n取值\n\n方法名称\nSetIpv6IpAddr\n\n请求签名\nss\n\n请求参数\nIpAddr：设置的IPv6地址PrefixLength：设置的前缀长度\n\n响应签名\n\n响应参数\n\n接口说明\n设置网口的IPv6地址和前缀长度\n\n新增方法4：\n\n项\n取值\n\n方法名称\nSetIpv6DefaultGateway\n\n请求签名\ns\n\n请求参数\nDefaultGateway\t：设置的IPv6默认网关\n\n响应签名\n\n响应参数\n\n接口说明\n设置网口的IPv6地址默认网关\n\n新增方法5：\n\n项\n取值\n\n方法名称\nSetIpv6PrefixGateway\n\n请求签名\nsss\n\n请求参数\nIpAddr：设置的IPv6地址PrefixLength：设置的前缀长度\tDefaultGateway\t：设置的IPv6默认网关\n\n响应签名\ns\n\n响应参数\nIpAddr\t：设置后的ipv6地址\n\n接口说明\n设置网口的IPv6地址和前缀长以及网关\n\n新增方法6：\n\n项\n取值\n\n方法名称\nEnableFloatIp\n\n请求签名\nb\n\n请求参数\nEnabled：浮动IP使能状态，取值如下：true - 使能false - 去使能\n\n响应签名\nb\n\n响应参数\nResult：设置结果，取值如下： true - 设置成功 false - 设置失败\n\n接口说明\n使能浮动IP\n\n评审结论\n1、同意在接口bmc.kepler.Managers.EthernetInterfaces.EthGroup下新增下列属性：\n\nIpMode\nBackupIpAddr\nBackupSubnetMask\nDefaultGateway\nIpv6Mode\nIpv6Addr\nPrefixLength\nIpv6DefaultGateway\n\n2、同意在接口bmc.kepler.Managers.EthernetInterfaces.EthGroup下新增下列方法：\n\nSetIpAddr\nSetDefaultGateway\nSetIpMaskGateway\nSetIpv6IpAddr\nSetIpv6DefaultGateway\nSetIpv6PrefixGateway\nEnableFloatIp\nlinks: #p-910-issue-1, https://gitcode.com/openUBMC/profile_schema/issues/6, #p-910-h-2, #p-910-h-3, #p-910-h-4, #p-910-h-5, #p-910-h-6, #p-910-ethgroup-7, #p-910-h-1ipmode-8, #p-910-h-2backupipaddr-9, #p-910-h-3backupsubnetmask-10, #p-910-h-4defaultgateway-11, #p-910-h-5ipv6mode-12, #p-910-h-6ipv6addr-13, #p-910-h-7prefixlength-14, #p-910-h-8-ipv6defaultgateway-15, #p-910-h-1-16, #p-910-h-2-17, #p-910-h-3-18, #p-910-h-4-19, #p-910-h-5-20, #p-910-h-6-21, #p-910-h-22",
    "topic_user_name": "Zhangbaocun",
    "best_answer_url": "",
    "reply_posts": [
        {
            "user_name": "pengqiang",
            "topic_closed": null,
            "is_solution": false,
            "post_url": "/t/topic/482/2",
            "text": ""
        }
    ]
}