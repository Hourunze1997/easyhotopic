{
    "topic_id": 353,
    "question": "manifest定制包编译和开源仓代码提交问题 - content: gitcode上openubmc最新的manifest仓中，去掉了customer.yml，请问要添加定制仓的，版本依赖应该怎么加？\nimage270×327 4.47 KB\n另外，manifest仓中配置的各组件依赖版本与开源仓的版本并不对应，比如：\nmdb_interface仓的版本为：\nimage453×554 15.2 KB\n而manifest仓中依赖的版本为：\nimage506×491 19.4 KB\n如果我要提交mdb_interface仓的代码并更新版本号，manifest仓里的版本号要更新到最新的么？\nlinks: https://forum.openubmc.cn/uploads/default/original/1X/f472dfc7120e39db2206924f1f01da5a55d237f5.png, https://forum.openubmc.cn/uploads/default/original/1X/bd524953cf327babb3fdea3bc49b07b5ca98a7b4.png, https://forum.openubmc.cn/uploads/default/original/1X/d7776ceb08647a6ca0e1d306e3918db39ef6a83b.png",
    "topic_user_name": "KunTai_LiuJie",
    "best_answer_url": "/t/topic/353/2",
    "reply_posts": [
        {
            "user_name": "LiJiang",
            "topic_closed": true,
            "is_solution": true,
            "post_url": "/t/topic/353/2",
            "text": "问题1： 在subsys/rc 和subsys/stable目录新增一个custom.yml，添加定制组件的conan依赖。 格式参考subsys/rc下的其他.yml文件。\n问题2：  社区manifest仓中依赖的版本为当前经过集成测试过的组件版本。组件仓的版本可以不断向前演进版本，但组件得经过集成测试通过后才能更新manifest中的版本。\n开发者想自己进行集成测试，可以在manifest的fork仓库中更新组件版本再测试。"
        },
        {
            "user_name": "张雨博",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/3",
            "text": "1.70.99为25.03稳定版本，后续各组件会单独拉发布分支。\n如果需要使用25.03版本进行产品化，推荐使用25.03发布的组件版本号。在研版本可能会存在一定的风险，建议在研版本使用"
        },
        {
            "user_name": "lixiaocan",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/4",
            "text": "Larry_Li:\n\n问题1： 在subsys/rc 和subsys/stable目录新增一个custom.yml，添加定制组件的conan依赖。 格式参考subsys/rc下的其他.yml文件。\n\n我也尝试新增了一个customer.yml，但是并没下载定制组件的conan依赖也没报错，请问除了新增yml文件是不是还有哪里需要修改？"
        },
        {
            "user_name": "KunTai_LiuJie",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/5",
            "text": "manifest.yml里的dependencies中也要加上"
        },
        {
            "user_name": "lixiaocan",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/6",
            "text": "好吧。我想着都归纳到customer.yml里，结果manifest.yml也要加的话，customer.yml这个文件就没太多必要性"
        },
        {
            "user_name": "LiJiang",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/7",
            "text": "这个使用了多层设计。\n\n在subsys里的组件版本配置是对应product里的所有单板中manifest.yml共用的。\nmanifest.yml配置是否使用哪个组件及组件的哪个特性，同时可以定制化组件版本，已达到灵活裁剪和定制化的目的。\n\n比如： customer.yml中配置了组件 foo/1.0.0@xxx/xx\n在product目录中的A 单板的manifest.yml里不配置 foo\n在product目录中的B 单板的manifest.yml里配置foo/1.2.3@xxx/xx"
        },
        {
            "user_name": "lixiaocan",
            "topic_closed": true,
            "is_solution": false,
            "post_url": "/t/topic/353/8",
            "text": "理解了，感谢各位了"
        }
    ]
}