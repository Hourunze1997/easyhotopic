{
    "topic_id": 2029,
    "question": "NPU卡Chip 1温度传感器显示异常 - content: CORE1无温度显示1012×588 31 KB\n设备持续做power cycle的操作，跑到105圈的时候，发现PCIe5 Chip 1的温度传感器无读值\nPCIe5 设备为Atlas 300 IDUO的NPU卡\n通过查看文件vpd\\vendor\\Huawei\\Gpu\\14140130_19e5d500_02000110.sr，NPU的CHIP温度传感器定义，温度从NPUCard_1.Core1TemperatureCelsius获取。\n    \"ThresholdSensor_GPUAICore1Temp\": {\n        \"OwnerId\": 32,\n        \"OwnerLun\": 0,\n        \"EntityId\": \"<=/Entity_GPUCard.Id\",\n        \"EntityInstance\": \"<=/Entity_GPUCard.Instance\",\n        \"Initialization\": 127,\n        \"Capabilities\": 104,\n        \"SensorType\": 1,\n        \"ReadingType\": 1,\n        \"SensorName\": \"PCIe${Slot} Chip1 Temp\",\n        \"AssertMask\": 0,\n        \"DeassertMask\": 0,\n        \"ReadingMask\": 2056,\n        \"UpperNoncritical\": 105,\n        \"PositiveHysteresis\": 2,\n        \"NegativeHysteresis\": 2,\n        \"Unit\": 128,\n        \"BaseUnit\": 1,\n        \"ModifierUnit\": 0,\n        \"Linearization\": 0,\n        \"M\": 1,\n        \"RBExp\": 0,\n        \"Analog\": 1,\n        \"NominalReading\": 25,\n        \"NormalMaximum\": 0,\n        \"NormalMinimum\": 0,\n        \"MaximumReading\": 127,\n        \"MinimumReading\": 128,\n        \"Reading\": \"<=/NPUCard_1.Core1TemperatureCelsius\",\n        \"ReadingStatus\": \"<=/NPUCard_1.Core1TemperatureCelsius |> expr($1 >= 255 ? 1 : 0)\"\n    },\n\n查看NPUCard的信息，Core0TemperatureCelsius和Core1TemperatureCelsius的读值都是存在的。\n% lsobj NPUCard\nNPUCard_1_0101010902\n% lsprop NPUCard_1_0101010902\nbmc.kepler.Inventory.Hardware\nAssetName=“PCIeCard5”\nAssetTag=“N/A”\nAssetType=“PCIe NPU Card”\nFirmwareVersion=“7.1.0.6.220”\nManufactureDate=“N/A”\nManufacturer=“Huawei”\nModel=“Atlas_300I_Duo”\nPCBVersion=“”\nPartNumber=“03029WRV”\nSerialNumber=“2106030737ZEPC013116”\nSlot=“5”\nUUID=“”\nbmc.kepler.Object.Properties\nClassName=“NPUCard”\nObjectIdentifier=[1,“1”,“”,“0101010902”]\nObjectName=“NPUCard_1_0101010902”\nTraceEnabled=false\nbmc.kepler.Systems.NPUCard\nBoardID=177\nChipFaultDescription=“”\nChipHealthStatus=0\nCore0TemperatureCelsius=77\nCore1TemperatureCelsius=75\nFaultCode=“Error code: NA”\nFaultState=0\nFirmwareVersion=“7.1.0.6.220”\nInletTemperatureCelsius=68\nMcuFirmwareVersion=“24.7.8”\nMemoryCapacityMiB=87974\nName=“Atlas 300I Duo Inference Card”\nOutletTemperatureCelsius=57\nPcbVersion=“.E”\nPowerState=0\nPowerWatts=519\nSerialNumber=“2106030737ZEPC013116”\nSlotNumber=5\nPrivate\nCardDescription=“Atlas 300I Duo Inference Card PCI-E 1*16x(FHFL)”\nCardPartNumber=“03029WRV”\nDeviceName=“PCIe Card 5 (Atlas 300I Duo)”\nLockChip=“Chip_Dmini_0101010902”\nRefChip=“Chip_Dmini_0101010902”\nRefEeprom=“Chip_Dmini_Elabel_0101010902”\nRefFrudata=“FruData_NPUCard_0101010902”\n查看传感器的读值，Reading值也是存在的，但是  ReadingDisplay值为-1.存在异常。\n% lsprop ThresholdSensor_GPUAICore1Temp_0101010902\nbmc.kepler.Object.Properties\nClassName=“ThresholdSensor”\nObjectIdentifier=[1,“1”,“”,“0101010902”]\nObjectName=“ThresholdSensor_GPUAICore1Temp_0101010902”\nTraceEnabled=false\nbmc.kepler.Systems.ThresholdSensor\nCapabilities=104\nEntityId=11\nEntityInstance=101\nLowerCritical=0\nLowerNoncritical=0\nLowerNonrecoverable=0\nNegativeHysteresis=2\nOriginalReading=0\nOwnerLun=0\nPositiveHysteresis=2\nReading=75\nReadingMask=2056\nReadingStatus=0\nSensorIdentifier=“”\nSensorName=“PCIe5 Chip1 Temp”\nSensorNumber=162\nSensorType=1\nUpperCritical=0\nUpperNoncritical=105\nUpperNonrecoverable=0\nbmc.kepler.Systems.ThresholdSensorDisplay\nAssertStatus=0\nHealth=“OK”\nLowerCriticalDisplay=“0.000”\nLowerNoncriticalDisplay=“0.000”\nLowerNonrecoverableDisplay=“0.000”\nNegativeHysteresisDisplay=“2.000”\nPositiveHysteresisDisplay=“2.000”\nReadingDisplay=“-1.000”\nStatus=“Enabled”\nUnitDisplay=“degrees C”\nUpperCriticalDisplay=“0.000”\nUpperNoncriticalDisplay=“105.000”\nUpperNonrecoverableDisplay=“0.000”\nPrivate\nAccuracy=0\nAnalog=1\nAssertMask=0\nB=0\nBA=0\nBaseUnit=1\nBelongsToSystem=false\nDeassertMask=0\nInitialization=127\nLinearization=0\nM=1\nMT=0\nMaximumReading=127\nMinimumReading=128\nModifierUnit=0\nNominalReading=25\nNormalMaximum=0\nNormalMinimum=0\nOwnerId=32\nRBExp=0\nReadingType=1\nUnit=128\n尝试修改PCIe5 Chip1  的ReadingDisplay的值为80，PCIe5 Chip1 Temp传感器的值在WEB上还是无显示。\n尝试修改PCIe5 Chip0 的ReadingDisplay的值为80，PCIe5 Chip0 Temp传感器的值在WEB上可以更新。\nlinks: https://discuss.openubmc.cn/uploads/default/original/2X/6/6dec01e709cea283b890ebe78d6decdd01ab855d.png",
    "topic_user_name": "Hudi",
    "best_answer_url": "",
    "reply_posts": []
}