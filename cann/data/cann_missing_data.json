[
  {
    "id": 1087,
    "source_id": "20885905",
    "title": " sampleResnetRtsp推理om模型报错",
    "body": " ![输入图片说明](https://foruda.gitee.com/images/1750125300170877269/812912a8_1215735.jpeg \"om推理.JPG\")\r\n\r\n在300v上进行REsnetRtsp推理，onx模型已经转换成功为onnx，但是在执行最后脚本sample_run.sh时报错，请问怎么解决？感谢。\r\n\r\n",
    "url": "https://gitee.com/ascend/samples/issues/ICFNO1",
    "clean_data": "问题核心提炼：     ResNet RTSP任务执行 sample run sh 时，ONNX转OM模型加载失败 报错码5000002 。但其他确认点：ONNX转换成功、设备为300v。      关键解决方向：     1    检查ATC转换参数  ：验证是否遗漏框架类型 如   input format NCHW  或数据类型指定 如   input type 与RTSP预处理匹配 。   2    路径与权限  ：确认 sample run sh 执行时模型路径正确 绝对路径或环境变量 ，且设备具备模型读取权限。   3    CANN版本适配  ：核查300v设备与安装的Ascend CANN版本是否兼容，尤其是ONNX转OM的工具链版本。   4    模型动态输入处理  ：若RTSP输入尺寸动态，检查是否配置了   dynamic dims 或输入维度的可变参数。      对应标题直接点明报错根源与操作检查点。",
    "created_at": "2025-06-17 01:58:23.000000 +00:00",
    "topic_summary": "开发者转换模型时在转换过程和推理过程中遇到报错",
    "topic_closed": false,
    "source_type": "issue",
    "history": "[]",
    "source_closed": true,
    "updated_at": "2025-06-19 08:59:58.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 911,
    "source_id": "20851400",
    "title": "sampleYOLOV7MultiInput安装报错",
    "body": "![输入图片说明](https://foruda.gitee.com/images/1749782522023632355/7354ed74_1215735.png \"屏幕截图\")\nsampleYOLOV7MultiInput 在安装的过程中根据文档说明sudo cp /usr/local/lib/libx264.so.164 /lib 需要这个文档其他都执行成功，但是并没有这个文件？是什么原因",
    "url": "https://gitee.com/ascend/samples/issues/ICEX1K",
    "clean_data": "标题：sampleYOLOV7MultiInput安装时报错libx264 so 164缺失 描述：按照官方文档执行sudo cp  usr local lib libx264 so 164  lib时发现源路径无该文件，其他安装步骤均正常。问题集中在libx264 so 164文件查找与路径配置上。  核心排查逻辑： 1  验证文档的x264安装路径与上级目录是否匹配 2  检查是否已完成x264运行库安装 常见包名为libx264 dev 164  3  跨架构支持需确认下libx264 so是否存在于 usr lib x86 64 linux gnu   推荐操作：   执行dpkg  l   grep x264确认安装状态   使用find  usr  name  libx264 so  查看实际文件路径   安装缺失依赖：sudo apt install libx264 dev   或手动创建软链接：sudo ln  s libx264 so x  lib libx264 so 164 x为实际版本号",
    "created_at": "2025-06-13 02:44:12.000000 +00:00",
    "topic_summary": "开发者安装配置时遇到漏装必要软件包、版本匹配等问题导致运行失败",
    "topic_closed": false,
    "source_type": "issue",
    "history": "[]",
    "source_closed": true,
    "updated_at": "2025-06-16 01:24:54.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 1368,
    "source_id": "0205185616166676141",
    "title": "安装Ascend-cann-toolkit_8.2.RC1.alpha001_linux-x86_64.run报错  error code: 126",
    "body": "<div class=\"cke-article\"><p>非昇腾硬件环境+ubuntu18.04+普通用户权限：</p>  <p>Linux 5.4.0-144-generic #161~18.04.1-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux</p>  <p></p>  <p>执行check：</p>  <p> ./Ascend-cann-toolkit_8.2.RC1.alpha001_linux-x86_64.run --check </p>  <p>Makeself logfile: /home/XXXX/log/makeself/makeself.log </p>  <p>Verifying archive integrity...  100%   SHA256 checksums are OK. All good. </p>  <p>Verifying archive integrity...  100%   SHA256 checksums are OK. All good.</p>  <p></p>  <p>执行 install：</p>  <p>./Ascend-cann-toolkit_8.2.RC1.alpha001_linux-x86_64.run --install </p>  <p>报错如下：</p>  <pre><br><code class=\"language-markdown\">发布时间：2023年11月9日Do you accept the EULA to install CANN?[Y/N]y<br>[Toolkit] [20250618-14:52:54] [INFO] install start<br>[Toolkit] [20250618-14:52:54] [INFO] The installation path is /home/xxxx/Ascend.<br>[Toolkit] [20250618-14:52:54] [WARNING] driver package is not installed. If you install in docker, you should map driver install path and /etc/ascend_install.info to the docker container, you can see the installation guide for details.<br>[Toolkit] [20250618-14:52:54] [WARNING] driver package is not installed. If you install in docker, you should map driver install path and /etc/ascend_install.info to the docker container, you can see the installation guide for details.<br>[Toolkit] [20250618-14:52:54] [INFO] install package CANN-runtime-7.7.t17.0.b106-linux.x86_64.run start<br><br>[Toolkit] [20250618-14:53:01] [INFO] start uninstall CANN-runtime-7.7.t17.0.b106-linux.x86_64.run<br>[Toolkit] [20250618-14:53:07] [ERROR] CANN-runtime-7.7.t17.0.b106-linux.x86_64.run install failed<br>[Toolkit] [20250618-14:53:07] [ERROR] package install failed, Please refer to the log for more details: /home/xxxx/var/log/ascend_seclog/ascend_toolkit_install.log</code></pre>  <p>ascend_toolkit_install.log报错内容：</p>  <pre><br><code class=\"language-markdown\">[Runtime] [2025-06-18 14:53:07] [INFO]: Start time:2025-06-18 14:53:07<br>[Runtime] [2025-06-18 14:53:07] [INFO]: LogFile:/home/xxxx/var/log/ascend_seclog/ascend_install.log<br>[Runtime] [2025-06-18 14:53:07] [INFO]: InputParams:--quiet --uninstall --install-path=/home/xxxx/Ascend/ascend-toolkit<br>[Runtime] [2025-06-18 14:53:07] [INFO]: OperationLogFile:/home/xxxx/var/log/ascend_seclog/operation.log<br>[Runtime] [2025-06-18 14:53:07] [INFO]: base version is 7.7.T17.0.B106.<br>[Runtime] [2025-06-18 14:53:07] [INFO]: uninstall /home/xxxx/Ascend/ascend-toolkit full<br>[Runtime] [2025-06-18 14:53:07] [INFO]: step into run_runtime_uninstall.sh ......<br>[Runtime] [2025-06-18 14:53:07] [INFO]: uninstall target dir /home/xxxx/Ascend/ascend-toolkit/8.2.RC1.alpha001, type full.<br>[Runtime] [2025-06-18 14:53:07] [ERROR]: runtime notify latest manager remove softlink in multi version uninstall failed! version is 7.7.T17.0.B106, version_dir is 8.2.RC1.alpha001.<br>[Runtime] [2025-06-18 14:53:07] [ERROR]: ERR_NO:0x0090;ERR_DES:failed to uninstall package.<br>[Runtime] [2025-06-18 14:53:07] [ERROR]: Runtime package uninstall failed!<br>[Runtime] [2025-06-18 14:53:07] [INFO]: End time:2025-06-18 14:53:07<br>[Toolkit] [20250618-14:53:07] [INFO]  delete operation, the directory /home/xxxx/Ascend/ascend-toolkit is not empty.<br>[Toolkit] [20250618-14:53:07] [ERROR] CANN-runtime-7.7.t17.0.b106-linux.x86_64.run install failed<br>[Toolkit] [20250618-14:53:07] [ERROR] package install failed, Please refer to the log for more details: /home/xxxx/var/log/ascend_seclog/ascend_toolkit_install.log<br>[Toolkit] [20250618-14:53:07] [ERROR] process exit<br>[Toolkit] [20250618-15:04:19] [INFO] LogFile:/home/xxxx/var/log/ascend_seclog/ascend_toolkit_install.log</code></pre></div>",
    "url": "https://www.hiascend.com/forum/thread-0205185616166676141-1-1.html",
    "clean_data": "核心问题：   非昇腾环境Ubuntu 18 04普通用户安装Ascend CANN 8 2 RC1 alpha001时，报错 error code  126 ，问题源于运行时软件包 CANN runtime 7 7 t17 0 b106 卸载失败，具体因多版本环境卸载时软链接移除异常  notify latest manager remove softlink in multi version uninstall failed  ，安装日志显示 ERR NO 0x0090 。    关联要点：   1  环境不兼容昇腾硬件 2  未正确处理driver包路径映射 Docker场景提示  3  测试用未来时间戳日志反向暴露安装依赖问题    解决方向：     检查驱动版本与CANN版本匹配   以管理员权限操作或调整目录权限   参考安装指南确认非昇腾环境配置要求",
    "created_at": "2025-06-18 00:02:47.000000 +00:00",
    "topic_summary": "开发者安装配置时遇到漏装必要软件包、版本匹配等问题导致运行失败",
    "topic_closed": false,
    "source_type": "forum",
    "history": "[]",
    "source_closed": false,
    "updated_at": "2025-06-22 23:05:09.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 2039,
    "source_id": "02115185703877094164",
    "title": "使用c++加载动态宽度的OM模型，推理一直报错",
    "body": "<div class=\"cke-article\"><p>模型是将onnx模型转换为om模型</p>  <p>(MindSpore) [ma-user model_dynamic]$atc --mode=6 --om=./crnn.om </p>  <p>ATC start working now, please wait for a moment. </p>  <p>============ Display Model Info start ============ </p>  <p>Original Atc command line: /usr/local/Ascend/ascend-toolkit/8.0.RC3/aarch64-linux/bin/atc.bin --model=crnn.onnx --framework=5 --output=crnn --input_format=ND --input_shape=input:1,3,32,-1 --dynamic_dims=160;320;640 --soc_version=Ascend910B4 --log=info </p>  <p>system   info: atc_version[7.5.0.1.129], soc_version[Ascend910B4], framework_type[Onnx]. </p>  <p>resource info: memory_size[22799360 B], weight_size[16651776 B], stream_num[1], event_num[0]. </p>  <p>om       info: modeldef_size[654543 B], weight_data_size[16651776 B], tbe_kernels_size[1098425 B], cust_aicpu_kernel_store_size[0 B], task_info_size[25303 B], so_store_size[0 B]. </p>  <p>============ Display Model Info end   ============ </p>  <p>... </p>  <p>ATC run success, welcome to the next use. </p>  <p>(MindSpore) [ma-user model_dynamic]$ </p>  <p></p>  <p>通过c++调用一直运行报推理错误</p>  <p>#include &lt;iostream&gt;</p>  <p>#include &lt;numeric&gt;</p>  <p>#include &lt;string&gt;</p>  <p>#include &lt;vector&gt;</p>  <p>#include &lt;opencv2/opencv.hpp&gt;</p>  <p>#include &quot;acl/acl.h&quot;</p>  <p>#define CHECK_RET(ret, msg) \\</p>  <p>    if (ret != ACL_ERROR_NONE) { \\</p>  <p>        std::cerr &lt;&lt; &quot;ERROR: &quot; &lt;&lt; msg &lt;&lt; &quot;, ret = &quot; &lt;&lt; ret &lt;&lt; std::endl; \\</p>  <p>        exit(1); \\</p>  <p>    }</p>  <p>std::vector&lt;std::string&gt; m_labels= {&quot; &quot;,&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;A&quot;};</p>  <p>template&lt;class ForwardIterator&gt;</p>  <p>inline static size_t argmax(ForwardIterator first, ForwardIterator last) {</p>  <p>    return std::distance(first, std::max_element(first, last));</p>  <p>}</p>  <p>std::string getresult(const std::vector&lt;float&gt;&amp; outputData, int h, int w) {</p>  <p>    int keySize = m_labels.size();</p>  <p>    std::string strRes;</p>  <p>    std::vector&lt;float&gt; scores;</p>  <p>    int lastIndex = 0;</p>  <p>    int maxIndex;</p>  <p>    float maxValue;</p>  <p>    std::vector&lt;float&gt; results_extra(w);</p>  <p>    std::vector&lt;float&gt; result_(h);</p>  <p>    std::vector&lt;float&gt; result_score_(h);</p>  <p>    for (int i = 0; i &lt; h; i++) {</p>  <p>        for (int j = 0; j &lt; w; j++) {</p>  <p>            results_extra[j] = exp(outputData[i * w + j]);</p>  <p>        }</p>  <p>        result_[i] = std::distance(results_extra.begin(), std::max_element(results_extra.begin(), results_extra.end()));</p>  <p>        float partition = std::accumulate(results_extra.begin(), results_extra.end(), 0.0);//row sum</p>  <p>        maxIndex = int(argmax(results_extra.begin(), results_extra.end()));</p>  <p>        maxValue = float(*std::max_element(results_extra.begin(), results_extra.end())) / partition;</p>  <p>        result_score_[i] = maxValue;//保存得分</p>  <p>    }</p>  <p>    strRes = &quot;&quot;;</p>  <p>    int temp;</p>  <p>    for (int i = 0; i &lt; h; i++) {</p>  <p>        if ((result_[i] != 0) &amp;&amp; (!(i &gt; 0 &amp;&amp; result_[i - 1] == result_[i]))) {</p>  <p>            temp = result_[i];</p>  <p>            strRes += m_labels[temp];</p>  <p>            scores.push_back(result_score_[i]);//记录对应字符得分</p>  <p>        }</p>  <p>    }</p>  <p>    return strRes;</p>  <p>}</p>  <p>std::string  getRunInference(const std::string&amp; modelPath, const cv::Mat&amp; inputImg) {</p>  <p>    // 初始化 ACL</p>  <p>    CHECK_RET(aclInit(nullptr), &quot;aclInit&quot;);</p>  <p>    CHECK_RET(aclrtSetDevice(0), &quot;aclrtSetDevice&quot;);</p>  <p>    // 加载模型</p>  <p>    uint32_t modelId;</p>  <p>    aclmdlDesc* modelDesc = aclmdlCreateDesc();</p>  <p>    CHECK_RET(aclmdlLoadFromFile(modelPath.c_str(), &amp;modelId), &quot;aclmdlLoadFromFile&quot;);</p>  <p>    std::cout &lt;&lt; &quot;modelId = &quot; &lt;&lt; modelId &lt;&lt; std::endl;</p>  <p>    CHECK_RET(aclmdlGetDesc(modelDesc, modelId), &quot;aclmdlGetDesc&quot;);</p>  <p></p>  <p>    size_t inputCount = aclmdlGetNumInputs(modelDesc);</p>  <p>    for (size_t i = 0; i &lt; inputCount; ++i) {</p>  <p>        const char *name = aclmdlGetInputNameByIndex(modelDesc, i);</p>  <p>        aclmdlIODims dims;</p>  <p>        aclmdlGetInputDims(modelDesc, i, &amp;dims);</p>  <p>        std::cout &lt;&lt; &quot;Input &quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; name &lt;&lt; &quot;, dims = [&quot;;</p>  <p>        for (size_t j = 0; j &lt; dims.dimCount; ++j)</p>  <p>            std::cout &lt;&lt; dims.dims[j] &lt;&lt; (j+1 &lt; dims.dimCount ? &quot;, &quot; : &quot;&quot;);</p>  <p>        std::cout &lt;&lt; &quot;]&quot; &lt;&lt; std::endl;</p>  <p>    }</p>  <p>    // 模型输入维度：[1,3,32,-1]</p>  <p>    int fixedHeight = 32;</p>  <p>    int dynamicWidth = inputImg.cols;</p>  <p></p>  <p>    // 图像预处理（resize 到固定高度，动态宽度）</p>  <p>    cv::Mat resized;</p>  <p>    cv::resize(inputImg, resized, cv::Size(dynamicWidth, fixedHeight)); // 宽、高</p>  <p>    std::cout &lt;&lt; &quot;resized.cols = &quot;&lt;&lt; resized.cols &lt;&lt; &quot; resized.rows = &quot; &lt;&lt; resized.rows &lt;&lt; std::endl;</p>  <p></p>  <p>    // BGR -&gt; RGB -&gt; float</p>  <p>    cv::cvtColor(resized, resized, cv::COLOR_BGR2RGB);</p>  <p>    resized.convertTo(resized, CV_32FC3, 1.0 / 255.0);</p>  <p></p>  <p>    // 转换为 NCHW 格式</p>  <p>    std::vector&lt;float&gt; nchw(3 * fixedHeight * dynamicWidth);</p>  <p>    std::vector&lt;cv::Mat&gt; channels;</p>  <p>    for (int i = 0; i &lt; 3; ++i) {</p>  <p>        channels.emplace_back(fixedHeight, dynamicWidth, CV_32FC1, nchw.data() + i * fixedHeight * dynamicWidth);</p>  <p>    }</p>  <p>    cv::split(resized, channels);</p>  <p></p>  <p>    // 输入数据申请内存</p>  <p>    /*size_t inputSize1 = nchw.size() * sizeof(float);</p>  <p>    std::cout &lt;&lt; &quot;inputSize1 = &quot; &lt;&lt; inputSize1 &lt;&lt; std::endl;*/</p>  <p>    size_t inputSize = aclmdlGetInputSizeByIndex(modelDesc,0);</p>  <p>    std::cout &lt;&lt; &quot;inputSize = &quot; &lt;&lt; inputSize &lt;&lt; std::endl;</p>  <p>    void* inputDev = nullptr;</p>  <p>    CHECK_RET(aclrtMalloc(&amp;inputDev, inputSize, ACL_MEM_MALLOC_NORMAL_ONLY), &quot;aclrtMalloc input&quot;);</p>  <p>    CHECK_RET(aclrtMemcpy(inputDev, inputSize, nchw.data(), inputSize, ACL_MEMCPY_HOST_TO_DEVICE), &quot;aclrtMemcpy input&quot;);</p>  <p></p>  <p>    // 输入 Dataset</p>  <p>    aclmdlDataset* inputDataset = aclmdlCreateDataset();</p>  <p>    aclDataBuffer* inputBuffer = aclCreateDataBuffer(inputDev, inputSize);</p>  <p>    aclmdlAddDatasetBuffer(inputDataset, inputBuffer);</p>  <p></p>  <p>    // 设置动态宽度</p>  <p>    size_t index;</p>  <p>    const char* inputName=&quot;input&quot;;</p>  <p>    CHECK_RET(aclmdlGetInputIndexByName(modelDesc,inputName, &amp;index),&quot;aclmdlGetInputIndexByName&quot;);  </p>  <p>    aclmdlIODims inputDims;</p>  <p>    inputDims.dimCount = 4;</p>  <p>    inputDims.dims[0] = 1;</p>  <p>    inputDims.dims[1] = 3;</p>  <p>    inputDims.dims[2] = fixedHeight;</p>  <p>    inputDims.dims[3] = dynamicWidth;</p>  <p>    CHECK_RET(aclmdlSetInputDynamicDims(modelId, inputDataset , index, &amp;inputDims), &quot;aclmdlSetInputDynamicDims&quot;);</p>  <p></p>  <p>    // 创建输出 Dataset</p>  <p>    aclmdlDataset* outputDataset = aclmdlCreateDataset();</p>  <p>    size_t outputSize = aclmdlGetOutputSizeByIndex(modelDesc, 0);</p>  <p>    std::cout &lt;&lt; &quot;outputSize = &quot; &lt;&lt; outputSize &lt;&lt; std::endl;</p>  <p>    void* outputDev = nullptr;</p>  <p>    CHECK_RET(aclrtMalloc(&amp;outputDev, outputSize, ACL_MEM_MALLOC_NORMAL_ONLY), &quot;aclrtMalloc output&quot;);</p>  <p>    aclDataBuffer* outputBuffer = aclCreateDataBuffer(outputDev, outputSize);</p>  <p>    aclmdlAddDatasetBuffer(outputDataset, outputBuffer);</p>  <p></p>  <p>    // 执行推理</p>  <p>    CHECK_RET(aclmdlExecute(modelId, inputDataset, outputDataset), &quot;aclmdlExecute&quot;);</p>  <p></p>  <p>    // 获取实际输出大小</p>  <p>    aclmdlIODims outDims;</p>  <p>    CHECK_RET(aclmdlGetCurOutputDims(modelDesc, 0, &amp;outDims), &quot;aclmdlGetCurOutputDims&quot;);</p>  <p></p>  <p>    size_t numElems = 1;</p>  <p>    for (int i = 0; i &lt; outDims.dimCount; ++i) {</p>  <p>        numElems *= outDims.dims[i];</p>  <p>    }</p>  <p></p>  <p>    std::vector&lt;float&gt; output(numElems);</p>  <p>    CHECK_RET(aclrtMemcpy(output.data(), numElems * sizeof(float), outputDev, numElems * sizeof(float), ACL_MEMCPY_DEVICE_TO_HOST), &quot;aclrtMemcpy output&quot;);</p>  <p></p>  <p>    std::string res_str = getresult(output,outDims.dims[0],outDims.dims[2]);</p>  <p>    // 清理资源</p>  <p>    aclrtFree(inputDev);</p>  <p>    aclrtFree(outputDev);</p>  <p>    aclDestroyDataBuffer(inputBuffer);</p>  <p>    aclDestroyDataBuffer(outputBuffer);</p>  <p>    aclmdlDestroyDataset(inputDataset);</p>  <p>    aclmdlDestroyDataset(outputDataset);</p>  <p>    aclmdlUnload(modelId);</p>  <p>    aclmdlDestroyDesc(modelDesc);</p>  <p>    aclrtResetDevice(0);</p>  <p>    aclFinalize();</p>  <p>    return res_str;</p>  <p>}</p>  <p>int main() {</p>  <p>    std::string modelPath = &quot;./model_dynamic/crnn.om&quot;;</p>  <p>    std::string imagePath = &quot;./image/number_1_images_8682.jpg&quot;;</p>  <p>    cv::Mat image = cv::imread(imagePath);</p>  <p>    if (image.empty()) {</p>  <p>        std::cerr &lt;&lt; &quot;Failed to load image: &quot; &lt;&lt; imagePath &lt;&lt; std::endl;</p>  <p>        return -1;</p>  <p>    }</p>  <p></p>  <p>    auto result = getRunInference(modelPath, image);</p>  <p>    std::cout &lt;&lt; &quot;result =  &quot; &lt;&lt; result &lt;&lt; std::endl;</p>  <p>    return 0;</p>  <p>}</p>  <p><br> <span class=\"easyimage easyimage-full\"><img alt=\"123.png\" src=\"cid:pic_0\"></span></p></div>",
    "url": "https://www.hiascend.com/forum/thread-02115185703877094164-1-1.html",
    "clean_data": "使用C  调用包含动态宽度 input 1 3 32  1 的OM模型时，推理失败。通过ATC转换时指定了dynamic dims 160 320 640，代码中使用aclmdlSetInputDynamicDims设置了动态宽度，但执行aclmdlExecute时报错，输出数据获取和内存操作均无异常。问题集中在动态维度OM模型与C   API兼容性处理上。",
    "created_at": "2025-06-19 00:24:37.000000 +00:00",
    "topic_summary": "开发者转换模型时在转换过程和推理过程中遇到报错",
    "topic_closed": false,
    "source_type": "forum",
    "history": "[]",
    "source_closed": false,
    "updated_at": "2025-06-19 22:56:28.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 1500,
    "source_id": "0248185620582261169",
    "title": "使用toolkit时报错，包括模型转换（模型可转换成功，环境报错）与推理过错",
    "body": "<div class=\"cke-article\"><p style=\"background-color: rgb(255,255,255);letter-spacing: normal;text-transform: none;white-space: normal;word-spacing: 0.0px;\">我使用的是300I PRO，然后跑例程。</p>  <p style=\"background-color: rgb(255,255,255);letter-spacing: normal;text-transform: none;white-space: normal;word-spacing: 0.0px;\">我在安装驱动时，新建了HwHiAiUser用户。</p>  <p style=\"background-color: rgb(255,255,255);letter-spacing: normal;text-transform: none;white-space: normal;word-spacing: 0.0px;\">我安装的CANN版本如下：<br> toolkit、nnae、nnrt：8.1.RC1  （全部都安装在用户ssf下，非root安装）</p>  <p style=\"background-color: rgb(255,255,255);letter-spacing: normal;text-transform: none;white-space: normal;word-spacing: 0.0px;\">安装toolkit、模型转化 这两个步骤 运用了我用conda在用户下创建的虚拟环境。 </p>  <p style=\"background-color: rgb(255,255,255);letter-spacing: normal;text-transform: none;white-space: normal;word-spacing: 0.0px;\">然后我在pycharm中使用虚拟环境进行推理时报错。或者使用CANN转换模型时也会报环境错误。（已经进行过重装了，还是会报这些错误，且acl.init()函数的返回值不为0）<span class=\"easyimage easyimage-full\"><img alt=\"2025-06-12%2017-43-20%20%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png\" src=\"cid:pic_0\"></span></p></div>",
    "url": "https://www.hiascend.com/forum/thread-0248185620582261169-1-1.html",
    "clean_data": "用户使用300I PRO设备运行CANN 8 1 RC1 非root安装在ssf用户下 ，通过conda创建虚拟环境执行模型转换和推理时，出现环境报错且acl init  返回非0。问题涉及：1  非root用户安装路径权限异常；2  虚拟环境与本地安装的CANN组件版本不匹配；3  程序运行时未正确加载Ascend Clint库 需检查LD LIBRARY PATH 。已验证重装无效果，并提供报错截图。",
    "created_at": "2025-06-18 01:16:22.000000 +00:00",
    "topic_summary": "开发者安装配置时遇到漏装必要软件包、版本匹配等问题导致运行失败",
    "topic_closed": false,
    "source_type": "forum",
    "history": "[]",
    "source_closed": false,
    "updated_at": "2025-06-25 01:25:08.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 972,
    "source_id": "20880166",
    "title": "atlas 200i DK 开发板 opencv  安装失败",
    "body": "问题现象：\r\nhttps://gitee.com/ascend/samples/blob/master/inference/modelInference/sampleYOLOV7MultiInput/README.md\r\n根据上面的教程安装  opencv  报错\r\n命令： \r\nsudo apt-get install libopencv-dev\r\n\r\n\r\n\r\nDo you want to continue? [Y/n] Y\r\nIgn:1 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libmysqlclient21 arm64 8.0.41-0ubuntu0.22.04.1\r\nIgn:2 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libpq5 arm64 14.15-0ubuntu0.22.04.1\r\nIgn:3 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libprotobuf23 arm64 3.12.4-1ubuntu7.22.04.1\r\nErr:1 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libmysqlclient21 arm64 8.0.41-0ubuntu0.22.04.1\r\n  404  Not Found [IP: 58.20.209.151 80]\r\nErr:2 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libpq5 arm64 14.15-0ubuntu0.22.04.1\r\n  404  Not Found [IP: 58.20.209.151 80]\r\nErr:3 http://repo.huaweicloud.com/ubuntu-ports jammy-security/main arm64 libprotobuf23 arm64 3.12.4-1ubuntu7.22.04.1\r\n  404  Not Found [IP: 58.20.209.151 80]\r\nE: Failed to fetch http://repo.huaweicloud.com/ubuntu-ports/pool/main/m/mysql-8.0/libmysqlclient21_8.0.41-0ubuntu0.22.04.1_arm64.deb  404  Not Found [IP: 5       8.20.209.151 80]\r\nE: Failed to fetch http://repo.huaweicloud.com/ubuntu-ports/pool/main/p/postgresql-14/libpq5_14.15-0ubuntu0.22.04.1_arm64.deb  404  Not Found [IP: 58.20.20       9.151 80]\r\nE: Failed to fetch http://repo.huaweicloud.com/ubuntu-ports/pool/main/p/protobuf/libprotobuf23_3.12.4-1ubuntu7.22.04.1_arm64.deb  404  Not Found [IP: 58.20       .209.151 80]\r\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n\r\n![输入图片说明](https://foruda.gitee.com/images/1750065446765754908/3f81175f_342065.png \"屏幕截图\")",
    "url": "https://gitee.com/ascend/samples/issues/ICFJ8M",
    "clean_data": "atlas 200i DK开发板opencv安装失败：依赖包缺失     执行  sudo apt get install libopencv dev  时提示依赖包  libmysqlclient21 、 libpq5 、 libprotobuf23  在  http   repo huaweicloud com ubuntu ports  仓库 404 未找到，需检查以下配置：   1    仓库有效性  ：确认IP  58 20 209 151  对应的镜像源是否正常提供arm64架构的Ubuntu 22 04依赖包。   2    安装建议  ：        先运行  sudo apt get update  更新仓库索引。        若仍缺失依赖包，改为： sudo apt get install libopencv dev   fix missing 。        如问题仍未解决，可能需要手动下载 deb包并安装，或调整镜像源。",
    "created_at": "2025-06-16 09:19:18.000000 +00:00",
    "topic_summary": "开发者安装配置时遇到漏装必要软件包、版本匹配等问题导致运行失败",
    "topic_closed": false,
    "source_type": "issue",
    "history": "[]",
    "source_closed": true,
    "updated_at": "2025-06-19 07:21:27.000000 +00:00",
    "is_deleted": false
  },
  {
    "id": 2656,
    "source_id": "20912139",
    "title": "使用昇腾910跑模型dbet做推理，转模型成onnx的时候报错",
    "body": "一、需求场景&价值\r\n使用昇腾910跑模型dbet做推理，转模型成onnx的时候报错\r\n参考的链接：\r\nhttps://gitee.com/ascend/ModelZoo-PyTorch/tree/master/ACL_PyTorch/built-in/ocr/DBNET\r\n二、环境：\r\ncann:8.00 24.1.rc2\r\n910b\r\n三：报错详情：\r\nonnx导出的输入维度是：tensor: float32[-1,3,736,1280]\r\n然后我用atc转模型的时候命令：\r\natc --framework=5 --model=./dbnet.onnx --input_format=NCHW --input_shape=\"actual_input_1:-1,3,736,1280\" --output=db_bs1 --log=debug --soc_version=Ascend910B\r\n可以转成功但是推理的时候会出现报错：转模型的时候没有指定动态维度\r\n![输入图片说明](https://foruda.gitee.com/images/1750295807112031008/45425184_14341654.png \"屏幕截图\")\r\n![输入图片说明](https://foruda.gitee.com/images/1750295818001835410/bfef8e7f_14341654.png \"屏幕截图\")\r\n但是，如果在转om时候指定了动态维度或者把-1维度改为1，会报错\r\natc --framework=5 --model=./dbnet.onnx --input_format=NCHW --input_shape=\"actual_input_1:1,3,736,1280\" --output=db_bs1 --log=debug --soc_version=Ascend910B\r\n或者\r\natc --framework=5 --model=./dbnet.onnx --input_format=NCHW --input_shape=\"actual_input_1:-1,3,736,1280\" --dynamic_dims='1;2;4;8;16;32;64;128;256' --output=db_bs1 --log=debug --soc_version=Ascend910B\r\n![输入图片说明](https://foruda.gitee.com/images/1750295829816383213/3691022b_14341654.png \"屏幕截图\")\r\n如何解决？",
    "url": "https://gitee.com/ascend/tools/issues/ICG7WR",
    "clean_data": "标题关键问题：   在昇腾910上使用ATC转换DBNet模型时，ONNX导出的动态维度模型推理报错，指定静态或动态维度后转换失败。    简洁描述：     用户基于CANN 8 00 24 1 rc2和昇腾910B，使用ATC工具转换DBNet模型时遇到以下问题： 1  ONNX导出的输入维度为   1 3 736 1280  ，转换OM模型后推理报错，提示 动态维度未指定 。 2  尝试指定静态batch size 如 1 3 736 1280  或明确动态维度范围 如 dynamic dims  1 2 4 8 16 32 64 128 256   时，ATC转换过程直接失败。 3  使用 prototxt 格式转出的OM模型可正常加载。",
    "created_at": "2025-06-19 01:17:42.000000 +00:00",
    "topic_summary": "开发者转换模型时在转换过程和推理过程中遇到报错",
    "topic_closed": false,
    "source_type": "issue",
    "history": "[]",
    "source_closed": false,
    "updated_at": "2025-06-19 01:17:43.000000 +00:00",
    "is_deleted": false
  }
]